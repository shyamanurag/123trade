import{r as v,a as ei,b as ti,R as F,d as si}from"./vendor-764d51b6.js";import{_ as O,a as Pe,R as ni,A as ri,C as ii,X as ai,Y as oi,T as ci,b as li}from"./charts-f36da95a.js";import{M as ui,B as Ws,m as N,A as Ee,U as Js,R as Ft,L as di,W as Dn,a as Fn,b as ie,X as hi,H as fi,T as ye,c as ze,D as vt,d as _e,K as cs,N as it,S as In,P as pi,e as Ps,C as bt,f as wt,g as Re,h as As,i as mi,j as Je,k as yi,l as xi,n as gi,o as Un,F as Bn,p as vi,q as bi,E as wi,r as ji,s as Ni,t as Si}from"./ui-f8596b31.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();var qn={exports:{}},It={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=v,Ci=Symbol.for("react.element"),_i=Symbol.for("react.fragment"),Ri=Object.prototype.hasOwnProperty,Oi=Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ti={key:!0,ref:!0,__self:!0,__source:!0};function Mn(s,e,t){var n,r={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ri.call(e,n)&&!Ti.hasOwnProperty(n)&&(r[n]=e[n]);if(s&&s.defaultProps)for(n in e=s.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:Ci,type:s,key:i,ref:o,props:r,_owner:Oi.current}}It.Fragment=_i;It.jsx=Mn;It.jsxs=Mn;qn.exports=It;var a=qn.exports,ls={},Ys=ei;ls.createRoot=Ys.createRoot,ls.hydrateRoot=Ys.hydrateRoot;let Pi={data:""},Ai=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||Pi,ki=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Li=/\/\*[^]*?\*\/|  +/g,Gs=/\n+/g,de=(s,e)=>{let t="",n="",r="";for(let i in s){let o=s[i];i[0]=="@"?i[1]=="i"?t=i+" "+o+";":n+=i[1]=="f"?de(o,i):i+"{"+de(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=de(o,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,c):c?c+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=de.p?de.p(i,o):i+":"+o+";")}return t+(e&&r?e+"{"+r+"}":r)+n},ne={},$n=s=>{if(typeof s=="object"){let e="";for(let t in s)e+=t+$n(s[t]);return e}return s},Di=(s,e,t,n,r)=>{let i=$n(s),o=ne[i]||(ne[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!ne[o]){let l=i!==s?s:(u=>{let d,h,m=[{}];for(;d=ki.exec(u.replace(Li,""));)d[4]?m.shift():d[3]?(h=d[3].replace(Gs," ").trim(),m.unshift(m[0][h]=m[0][h]||{})):m[0][d[1]]=d[2].replace(Gs," ").trim();return m[0]})(s);ne[o]=de(r?{["@keyframes "+o]:l}:l,t?"":"."+o)}let c=t&&ne.g?ne.g:null;return t&&(ne.g=ne[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(ne[o],e,n,c),o},Fi=(s,e,t)=>s.reduce((n,r,i)=>{let o=e[i];if(o&&o.call){let c=o(t),l=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=l?"."+l:c&&typeof c=="object"?c.props?"":de(c,""):c===!1?"":c}return n+r+(o??"")},"");function Ut(s){let e=this||{},t=s.call?s(e.p):s;return Di(t.unshift?t.raw?Fi(t,[].slice.call(arguments,1),e.p):t.reduce((n,r)=>Object.assign(n,r&&r.call?r(e.p):r),{}):t,Ai(e.target),e.g,e.o,e.k)}let Qn,us,ds;Ut.bind({g:1});let ae=Ut.bind({k:1});function Ii(s,e,t,n){de.p=e,Qn=s,us=t,ds=n}function xe(s,e){let t=this||{};return function(){let n=arguments;function r(i,o){let c=Object.assign({},i),l=c.className||r.className;t.p=Object.assign({theme:us&&us()},c),t.o=/ *go\d+/.test(l),c.className=Ut.apply(t,n)+(l?" "+l:""),e&&(c.ref=o);let u=s;return s[0]&&(u=c.as||s,delete c.as),ds&&u[0]&&ds(c),Qn(u,c)}return e?e(r):r}}var Ui=s=>typeof s=="function",jt=(s,e)=>Ui(s)?s(e):s,Bi=(()=>{let s=0;return()=>(++s).toString()})(),Hn=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");s=!e||e.matches}return s}})(),qi=20,zn=(s,e)=>{switch(e.type){case 0:return{...s,toasts:[e.toast,...s.toasts].slice(0,qi)};case 1:return{...s,toasts:s.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return zn(s,{type:s.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...s,toasts:s.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...s,pausedAt:e.time};case 6:let r=e.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},at=[],ve={toasts:[],pausedAt:void 0},Ne=s=>{ve=zn(ve,s),at.forEach(e=>{e(ve)})},Mi={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$i=(s={})=>{let[e,t]=v.useState(ve),n=v.useRef(ve);v.useEffect(()=>(n.current!==ve&&t(ve),at.push(t),()=>{let i=at.indexOf(t);i>-1&&at.splice(i,1)}),[]);let r=e.toasts.map(i=>{var o,c,l;return{...s,...s[i.type],...i,removeDelay:i.removeDelay||((o=s[i.type])==null?void 0:o.removeDelay)||(s==null?void 0:s.removeDelay),duration:i.duration||((c=s[i.type])==null?void 0:c.duration)||(s==null?void 0:s.duration)||Mi[i.type],style:{...s.style,...(l=s[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},Qi=(s,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...t,id:(t==null?void 0:t.id)||Bi()}),Ye=s=>(e,t)=>{let n=Qi(e,s,t);return Ne({type:2,toast:n}),n.id},$=(s,e)=>Ye("blank")(s,e);$.error=Ye("error");$.success=Ye("success");$.loading=Ye("loading");$.custom=Ye("custom");$.dismiss=s=>{Ne({type:3,toastId:s})};$.remove=s=>Ne({type:4,toastId:s});$.promise=(s,e,t)=>{let n=$.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof s=="function"&&(s=s()),s.then(r=>{let i=e.success?jt(e.success,r):void 0;return i?$.success(i,{id:n,...t,...t==null?void 0:t.success}):$.dismiss(n),r}).catch(r=>{let i=e.error?jt(e.error,r):void 0;i?$.error(i,{id:n,...t,...t==null?void 0:t.error}):$.dismiss(n)}),s};var Hi=(s,e)=>{Ne({type:1,toast:{id:s,height:e}})},zi=()=>{Ne({type:5,time:Date.now()})},Qe=new Map,Ki=1e3,Vi=(s,e=Ki)=>{if(Qe.has(s))return;let t=setTimeout(()=>{Qe.delete(s),Ne({type:4,toastId:s})},e);Qe.set(s,t)},Wi=s=>{let{toasts:e,pausedAt:t}=$i(s);v.useEffect(()=>{if(t)return;let i=Date.now(),o=e.map(c=>{if(c.duration===1/0)return;let l=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(l<0){c.visible&&$.dismiss(c.id);return}return setTimeout(()=>$.dismiss(c.id),l)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[e,t]);let n=v.useCallback(()=>{t&&Ne({type:6,time:Date.now()})},[t]),r=v.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(w=>(w.position||u)===(i.position||u)&&w.height),h=d.findIndex(w=>w.id===i.id),m=d.filter((w,f)=>f<h&&w.visible).length;return d.filter(w=>w.visible).slice(...c?[m+1]:[0,m]).reduce((w,f)=>w+(f.height||0)+l,0)},[e]);return v.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Vi(i.id,i.removeDelay);else{let o=Qe.get(i.id);o&&(clearTimeout(o),Qe.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Hi,startPause:zi,endPause:n,calculateOffset:r}}},Ji=ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yi=ae`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gi=ae`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Xi=xe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ji} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gi} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Zi=ae`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ea=xe("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Zi} 1s linear infinite;
`,ta=ae`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sa=ae`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,na=xe("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ta} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sa} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ra=xe("div")`
  position: absolute;
`,ia=xe("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aa=ae`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oa=xe("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ca=({toast:s})=>{let{icon:e,type:t,iconTheme:n}=s;return e!==void 0?typeof e=="string"?v.createElement(oa,null,e):e:t==="blank"?null:v.createElement(ia,null,v.createElement(ea,{...n}),t!=="loading"&&v.createElement(ra,null,t==="error"?v.createElement(Xi,{...n}):v.createElement(na,{...n})))},la=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ua=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,da="0%{opacity:0;} 100%{opacity:1;}",ha="0%{opacity:1;} 100%{opacity:0;}",fa=xe("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pa=xe("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ma=(s,e)=>{let t=s.includes("top")?1:-1,[n,r]=Hn()?[da,ha]:[la(t),ua(t)];return{animation:e?`${ae(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ae(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ya=v.memo(({toast:s,position:e,style:t,children:n})=>{let r=s.height?ma(s.position||e||"top-center",s.visible):{opacity:0},i=v.createElement(ca,{toast:s}),o=v.createElement(pa,{...s.ariaProps},jt(s.message,s));return v.createElement(fa,{className:s.className,style:{...r,...t,...s.style}},typeof n=="function"?n({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});Ii(v.createElement);var xa=({id:s,className:e,style:t,onHeightUpdate:n,children:r})=>{let i=v.useCallback(o=>{if(o){let c=()=>{let l=o.getBoundingClientRect().height;n(s,l)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[s,n]);return v.createElement("div",{ref:i,className:e,style:t},r)},ga=(s,e)=>{let t=s.includes("top"),n=t?{top:0}:{bottom:0},r=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hn()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...r}},va=Ut`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,st=16,ba=({reverseOrder:s,position:e="top-center",toastOptions:t,gutter:n,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:l}=Wi(t);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:st,left:st,right:st,bottom:st,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(u=>{let d=u.position||e,h=l.calculateOffset(u,{reverseOrder:s,gutter:n,defaultPosition:e}),m=ga(d,h);return v.createElement(xa,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?va:"",style:m},u.type==="custom"?jt(u.message,u):r?r(u):v.createElement(ya,{toast:u,position:d}))}))},B=$,Ae=function(){function s(){this.listeners=[]}var e=s.prototype;return e.subscribe=function(n){var r=this,i=n||function(){};return this.listeners.push(i),this.onSubscribe(),function(){r.listeners=r.listeners.filter(function(o){return o!==i}),r.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},s}(),Nt=typeof window>"u";function q(){}function wa(s,e){return typeof s=="function"?s(e):s}function hs(s){return typeof s=="number"&&s>=0&&s!==1/0}function St(s){return Array.isArray(s)?s:[s]}function Kn(s,e){return Math.max(s+(e||0)-Date.now(),0)}function ot(s,e,t){return Ge(s)?typeof e=="function"?O({},t,{queryKey:s,queryFn:e}):O({},e,{queryKey:s}):s}function ja(s,e,t){return Ge(s)?typeof e=="function"?O({},t,{mutationKey:s,mutationFn:e}):O({},e,{mutationKey:s}):typeof s=="function"?O({},e,{mutationFn:s}):O({},s)}function ue(s,e,t){return Ge(s)?[O({},e,{queryKey:s}),t]:[s||{},e]}function Na(s,e){if(s===!0&&e===!0||s==null&&e==null)return"all";if(s===!1&&e===!1)return"none";var t=s??!e;return t?"active":"inactive"}function Xs(s,e){var t=s.active,n=s.exact,r=s.fetching,i=s.inactive,o=s.predicate,c=s.queryKey,l=s.stale;if(Ge(c)){if(n){if(e.queryHash!==ks(c,e.options))return!1}else if(!Et(e.queryKey,c))return!1}var u=Na(t,i);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof r=="boolean"&&e.isFetching()!==r||o&&!o(e))}function Zs(s,e){var t=s.exact,n=s.fetching,r=s.predicate,i=s.mutationKey;if(Ge(i)){if(!e.options.mutationKey)return!1;if(t){if(be(e.options.mutationKey)!==be(i))return!1}else if(!Et(e.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||r&&!r(e))}function ks(s,e){var t=(e==null?void 0:e.queryKeyHashFn)||be;return t(s)}function be(s){var e=St(s);return Sa(e)}function Sa(s){return JSON.stringify(s,function(e,t){return fs(t)?Object.keys(t).sort().reduce(function(n,r){return n[r]=t[r],n},{}):t})}function Et(s,e){return Vn(St(s),St(e))}function Vn(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!Vn(s[t],e[t])}):!1}function Ct(s,e){if(s===e)return s;var t=Array.isArray(s)&&Array.isArray(e);if(t||fs(s)&&fs(e)){for(var n=t?s.length:Object.keys(s).length,r=t?e:Object.keys(e),i=r.length,o=t?[]:{},c=0,l=0;l<i;l++){var u=t?l:r[l];o[u]=Ct(s[u],e[u]),o[u]===s[u]&&c++}return n===i&&c===n?s:o}return e}function Ea(s,e){if(s&&!e||e&&!s)return!1;for(var t in s)if(s[t]!==e[t])return!1;return!0}function fs(s){if(!en(s))return!1;var e=s.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!en(t)||!t.hasOwnProperty("isPrototypeOf"))}function en(s){return Object.prototype.toString.call(s)==="[object Object]"}function Ge(s){return typeof s=="string"||Array.isArray(s)}function Ca(s){return new Promise(function(e){setTimeout(e,s)})}function tn(s){Promise.resolve().then(s).catch(function(e){return setTimeout(function(){throw e})})}function Wn(){if(typeof AbortController=="function")return new AbortController}var _a=function(s){Pe(e,s);function e(){var n;return n=s.call(this)||this,n.setup=function(r){var i;if(!Nt&&((i=window)!=null&&i.addEventListener)){var o=function(){return r()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},t.setEventListener=function(r){var i,o=this;this.setup=r,(i=this.cleanup)==null||i.call(this),this.cleanup=r(function(c){typeof c=="boolean"?o.setFocused(c):o.onFocus()})},t.setFocused=function(r){this.focused=r,r&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(r){r()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Ae),He=new _a,Ra=function(s){Pe(e,s);function e(){var n;return n=s.call(this)||this,n.setup=function(r){var i;if(!Nt&&((i=window)!=null&&i.addEventListener)){var o=function(){return r()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var r;(r=this.cleanup)==null||r.call(this),this.cleanup=void 0}},t.setEventListener=function(r){var i,o=this;this.setup=r,(i=this.cleanup)==null||i.call(this),this.cleanup=r(function(c){typeof c=="boolean"?o.setOnline(c):o.onOnline()})},t.setOnline=function(r){this.online=r,r&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(r){r()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Ae),ct=new Ra;function Oa(s){return Math.min(1e3*Math.pow(2,s),3e4)}function _t(s){return typeof(s==null?void 0:s.cancel)=="function"}var Jn=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function lt(s){return s instanceof Jn}var Yn=function(e){var t=this,n=!1,r,i,o,c;this.abort=e.abort,this.cancel=function(m){return r==null?void 0:r(m)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(m,w){o=m,c=w});var l=function(w){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(w),i==null||i(),o(w))},u=function(w){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(w),i==null||i(),c(w))},d=function(){return new Promise(function(w){i=w,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){i=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function m(){if(!t.isResolved){var w;try{w=e.fn()}catch(f){w=Promise.reject(f)}r=function(g){if(!t.isResolved&&(u(new Jn(g)),t.abort==null||t.abort(),_t(w)))try{w.cancel()}catch{}},t.isTransportCancelable=_t(w),Promise.resolve(w).then(l).catch(function(f){var g,p;if(!t.isResolved){var j=(g=e.retry)!=null?g:3,b=(p=e.retryDelay)!=null?p:Oa,y=typeof b=="function"?b(t.failureCount,f):b,S=j===!0||typeof j=="number"&&t.failureCount<j||typeof j=="function"&&j(t.failureCount,f);if(n||!S){u(f);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,f),Ca(y).then(function(){if(!He.isFocused()||!ct.isOnline())return d()}).then(function(){n?u(f):m()})}})}};h()},Ta=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=s.prototype;return e.batch=function(n){var r;this.transactions++;try{r=n()}finally{this.transactions--,this.transactions||this.flush()}return r},e.schedule=function(n){var r=this;this.transactions?this.queue.push(n):tn(function(){r.notifyFn(n)})},e.batchCalls=function(n){var r=this;return function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];r.schedule(function(){n.apply(void 0,o)})}},e.flush=function(){var n=this,r=this.queue;this.queue=[],r.length&&tn(function(){n.batchNotifyFn(function(){r.forEach(function(i){n.notifyFn(i)})})})},e.setNotifyFunction=function(n){this.notifyFn=n},e.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},s}(),A=new Ta,Gn=console;function Rt(){return Gn}function Pa(s){Gn=s}var Aa=function(){function s(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=s.prototype;return e.setOptions=function(n){var r;this.options=O({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(r=this.options.cacheTime)!=null?r:5*60*1e3)},e.setDefaultOptions=function(n){this.defaultOptions=n},e.scheduleGc=function(){var n=this;this.clearGcTimeout(),hs(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(n,r){var i,o,c=this.state.data,l=wa(n,c);return(i=(o=this.options).isDataEqual)!=null&&i.call(o,c,l)?l=c:this.options.structuralSharing!==!1&&(l=Ct(c,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt}),l},e.setState=function(n,r){this.dispatch({type:"setState",state:n,setStateOptions:r})},e.cancel=function(n){var r,i=this.promise;return(r=this.retryer)==null||r.cancel(n),i?i.then(q).catch(q):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},e.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Kn(this.state.dataUpdatedAt,n)},e.onFocus=function(){var n,r=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});r&&r.refetch(),(n=this.retryer)==null||n.continue()},e.onOnline=function(){var n,r=this.observers.find(function(i){return i.shouldFetchOnReconnect()});r&&r.refetch(),(n=this.retryer)==null||n.continue()},e.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},e.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(r){return r!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(n,r){var i=this,o,c,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var d=this.observers.find(function(b){return b.options.queryFn});d&&this.setOptions(d.options)}var h=St(this.queryKey),m=Wn(),w={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(w,"signal",{enumerable:!0,get:function(){if(m)return i.abortSignalConsumed=!0,m.signal}});var f=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(w)):Promise.reject("Missing queryFn")},g={fetchOptions:r,options:this.options,queryKey:h,state:this.state,fetchFn:f,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var p;(p=this.options.behavior)==null||p.onFetch(g)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((c=g.fetchOptions)==null?void 0:c.meta)){var j;this.dispatch({type:"fetch",meta:(j=g.fetchOptions)==null?void 0:j.meta})}return this.retryer=new Yn({fn:g.fetchFn,abort:m==null||(l=m.abort)==null?void 0:l.bind(m),onSuccess:function(y){i.setData(y),i.cache.config.onSuccess==null||i.cache.config.onSuccess(y,i),i.cacheTime===0&&i.optionalRemove()},onError:function(y){lt(y)&&y.silent||i.dispatch({type:"error",error:y}),lt(y)||(i.cache.config.onError==null||i.cache.config.onError(y,i),Rt().error(y)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:g.options.retry,retryDelay:g.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(n){var r=this;this.state=this.reducer(this.state,n),A.batch(function(){r.observers.forEach(function(i){i.onQueryUpdate(n)}),r.cache.notify({query:r,type:"queryUpdated",action:n})})},e.getDefaultState=function(n){var r=typeof n.initialData=="function"?n.initialData():n.initialData,i=typeof n.initialData<"u",o=i?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,c=typeof r<"u";return{data:r,dataUpdateCount:0,dataUpdatedAt:c?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:c?"success":"idle"}},e.reducer=function(n,r){var i,o;switch(r.type){case"failed":return O({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return O({},n,{isPaused:!0});case"continue":return O({},n,{isPaused:!1});case"fetch":return O({},n,{fetchFailureCount:0,fetchMeta:(i=r.meta)!=null?i:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return O({},n,{data:r.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=r.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var c=r.error;return lt(c)&&c.revert&&this.revertState?O({},this.revertState):O({},n,{error:c,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return O({},n,{isInvalidated:!0});case"setState":return O({},n,r.state);default:return n}},s}(),ka=function(s){Pe(e,s);function e(n){var r;return r=s.call(this)||this,r.config=n||{},r.queries=[],r.queriesMap={},r}var t=e.prototype;return t.build=function(r,i,o){var c,l=i.queryKey,u=(c=i.queryHash)!=null?c:ks(l,i),d=this.get(u);return d||(d=new Aa({cache:this,queryKey:l,queryHash:u,options:r.defaultQueryOptions(i),state:o,defaultOptions:r.getQueryDefaults(l),meta:i.meta}),this.add(d)),d},t.add=function(r){this.queriesMap[r.queryHash]||(this.queriesMap[r.queryHash]=r,this.queries.push(r),this.notify({type:"queryAdded",query:r}))},t.remove=function(r){var i=this.queriesMap[r.queryHash];i&&(r.destroy(),this.queries=this.queries.filter(function(o){return o!==r}),i===r&&delete this.queriesMap[r.queryHash],this.notify({type:"queryRemoved",query:r}))},t.clear=function(){var r=this;A.batch(function(){r.queries.forEach(function(i){r.remove(i)})})},t.get=function(r){return this.queriesMap[r]},t.getAll=function(){return this.queries},t.find=function(r,i){var o=ue(r,i),c=o[0];return typeof c.exact>"u"&&(c.exact=!0),this.queries.find(function(l){return Xs(c,l)})},t.findAll=function(r,i){var o=ue(r,i),c=o[0];return Object.keys(c).length>0?this.queries.filter(function(l){return Xs(c,l)}):this.queries},t.notify=function(r){var i=this;A.batch(function(){i.listeners.forEach(function(o){o(r)})})},t.onFocus=function(){var r=this;A.batch(function(){r.queries.forEach(function(i){i.onFocus()})})},t.onOnline=function(){var r=this;A.batch(function(){r.queries.forEach(function(i){i.onOnline()})})},e}(Ae),La=function(){function s(t){this.options=O({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||Xn(),this.meta=t.meta}var e=s.prototype;return e.setState=function(n){this.dispatch({type:"setState",state:n})},e.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},e.removeObserver=function(n){this.observers=this.observers.filter(function(r){return r!==n})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(q).catch(q)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var n=this,r,i=this.state.status==="loading",o=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(c){c!==n.state.context&&n.dispatch({type:"loading",context:c,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(c){r=c,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(r,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(r,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(r,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:r}),r}).catch(function(c){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(c,n.state.variables,n.state.context,n),Rt().error(c),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(c,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,c,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:c}),c})})},e.executeMutation=function(){var n=this,r;return this.retryer=new Yn({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(r=this.options.retry)!=null?r:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(n){var r=this;this.state=Da(this.state,n),A.batch(function(){r.observers.forEach(function(i){i.onMutationUpdate(n)}),r.mutationCache.notify(r)})},s}();function Xn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Da(s,e){switch(e.type){case"failed":return O({},s,{failureCount:s.failureCount+1});case"pause":return O({},s,{isPaused:!0});case"continue":return O({},s,{isPaused:!1});case"loading":return O({},s,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return O({},s,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return O({},s,{data:void 0,error:e.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return O({},s,e.state);default:return s}}var Fa=function(s){Pe(e,s);function e(n){var r;return r=s.call(this)||this,r.config=n||{},r.mutations=[],r.mutationId=0,r}var t=e.prototype;return t.build=function(r,i,o){var c=new La({mutationCache:this,mutationId:++this.mutationId,options:r.defaultMutationOptions(i),state:o,defaultOptions:i.mutationKey?r.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(c),c},t.add=function(r){this.mutations.push(r),this.notify(r)},t.remove=function(r){this.mutations=this.mutations.filter(function(i){return i!==r}),r.cancel(),this.notify(r)},t.clear=function(){var r=this;A.batch(function(){r.mutations.forEach(function(i){r.remove(i)})})},t.getAll=function(){return this.mutations},t.find=function(r){return typeof r.exact>"u"&&(r.exact=!0),this.mutations.find(function(i){return Zs(r,i)})},t.findAll=function(r){return this.mutations.filter(function(i){return Zs(r,i)})},t.notify=function(r){var i=this;A.batch(function(){i.listeners.forEach(function(o){o(r)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var r=this.mutations.filter(function(i){return i.state.isPaused});return A.batch(function(){return r.reduce(function(i,o){return i.then(function(){return o.continue().catch(q)})},Promise.resolve())})},e}(Ae);function Ia(){return{onFetch:function(e){e.fetchFn=function(){var t,n,r,i,o,c,l=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,u=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,d=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",m=(u==null?void 0:u.direction)==="backward",w=((o=e.state.data)==null?void 0:o.pages)||[],f=((c=e.state.data)==null?void 0:c.pageParams)||[],g=Wn(),p=g==null?void 0:g.signal,j=f,b=!1,y=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(V,se,H,Ue){return j=Ue?[se].concat(j):[].concat(j,[se]),Ue?[H].concat(V):[].concat(V,[H])},C=function(V,se,H,Ue){if(b)return Promise.reject("Cancelled");if(typeof H>"u"&&!se&&V.length)return Promise.resolve(V);var le={queryKey:e.queryKey,signal:p,pageParam:H,meta:e.meta},ge=y(le),tt=Promise.resolve(ge).then(function(Zr){return S(V,H,Zr,Ue)});if(_t(ge)){var es=tt;es.cancel=ge.cancel}return tt},_;if(!w.length)_=C([]);else if(h){var D=typeof d<"u",T=D?d:sn(e.options,w);_=C(w,D,T)}else if(m){var R=typeof d<"u",L=R?d:Ua(e.options,w);_=C(w,R,L,!0)}else(function(){j=[];var X=typeof e.options.getNextPageParam>"u",V=l&&w[0]?l(w[0],0,w):!0;_=V?C([],X,f[0]):Promise.resolve(S([],f[0],w[0]));for(var se=function(le){_=_.then(function(ge){var tt=l&&w[le]?l(w[le],le,w):!0;if(tt){var es=X?f[le]:sn(e.options,ge);return C(ge,X,es)}return Promise.resolve(S(ge,f[le],w[le]))})},H=1;H<w.length;H++)se(H)})();var te=_.then(function(X){return{pages:X,pageParams:j}}),G=te;return G.cancel=function(){b=!0,g==null||g.abort(),_t(_)&&_.cancel()},te}}}}function sn(s,e){return s.getNextPageParam==null?void 0:s.getNextPageParam(e[e.length-1],e)}function Ua(s,e){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(e[0],e)}var Ba=function(){function s(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new ka,this.mutationCache=t.mutationCache||new Fa,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=s.prototype;return e.mount=function(){var n=this;this.unsubscribeFocus=He.subscribe(function(){He.isFocused()&&ct.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=ct.subscribe(function(){He.isFocused()&&ct.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},e.unmount=function(){var n,r;(n=this.unsubscribeFocus)==null||n.call(this),(r=this.unsubscribeOnline)==null||r.call(this)},e.isFetching=function(n,r){var i=ue(n,r),o=i[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(n){return this.mutationCache.findAll(O({},n,{fetching:!0})).length},e.getQueryData=function(n,r){var i;return(i=this.queryCache.find(n,r))==null?void 0:i.state.data},e.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(r){var i=r.queryKey,o=r.state,c=o.data;return[i,c]})},e.setQueryData=function(n,r,i){var o=ot(n),c=this.defaultQueryOptions(o);return this.queryCache.build(this,c).setData(r,i)},e.setQueriesData=function(n,r,i){var o=this;return A.batch(function(){return o.getQueryCache().findAll(n).map(function(c){var l=c.queryKey;return[l,o.setQueryData(l,r,i)]})})},e.getQueryState=function(n,r){var i;return(i=this.queryCache.find(n,r))==null?void 0:i.state},e.removeQueries=function(n,r){var i=ue(n,r),o=i[0],c=this.queryCache;A.batch(function(){c.findAll(o).forEach(function(l){c.remove(l)})})},e.resetQueries=function(n,r,i){var o=this,c=ue(n,r,i),l=c[0],u=c[1],d=this.queryCache,h=O({},l,{active:!0});return A.batch(function(){return d.findAll(l).forEach(function(m){m.reset()}),o.refetchQueries(h,u)})},e.cancelQueries=function(n,r,i){var o=this,c=ue(n,r,i),l=c[0],u=c[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var h=A.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.cancel(d)})});return Promise.all(h).then(q).catch(q)},e.invalidateQueries=function(n,r,i){var o,c,l,u=this,d=ue(n,r,i),h=d[0],m=d[1],w=O({},h,{active:(o=(c=h.refetchActive)!=null?c:h.active)!=null?o:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return A.batch(function(){return u.queryCache.findAll(h).forEach(function(f){f.invalidate()}),u.refetchQueries(w,m)})},e.refetchQueries=function(n,r,i){var o=this,c=ue(n,r,i),l=c[0],u=c[1],d=A.batch(function(){return o.queryCache.findAll(l).map(function(m){return m.fetch(void 0,O({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(d).then(q);return u!=null&&u.throwOnError||(h=h.catch(q)),h},e.fetchQuery=function(n,r,i){var o=ot(n,r,i),c=this.defaultQueryOptions(o);typeof c.retry>"u"&&(c.retry=!1);var l=this.queryCache.build(this,c);return l.isStaleByTime(c.staleTime)?l.fetch(c):Promise.resolve(l.state.data)},e.prefetchQuery=function(n,r,i){return this.fetchQuery(n,r,i).then(q).catch(q)},e.fetchInfiniteQuery=function(n,r,i){var o=ot(n,r,i);return o.behavior=Ia(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(n,r,i){return this.fetchInfiniteQuery(n,r,i).then(q).catch(q)},e.cancelMutations=function(){var n=this,r=A.batch(function(){return n.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(r).then(q).catch(q)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(n){this.defaultOptions=n},e.setQueryDefaults=function(n,r){var i=this.queryDefaults.find(function(o){return be(n)===be(o.queryKey)});i?i.defaultOptions=r:this.queryDefaults.push({queryKey:n,defaultOptions:r})},e.getQueryDefaults=function(n){var r;return n?(r=this.queryDefaults.find(function(i){return Et(n,i.queryKey)}))==null?void 0:r.defaultOptions:void 0},e.setMutationDefaults=function(n,r){var i=this.mutationDefaults.find(function(o){return be(n)===be(o.mutationKey)});i?i.defaultOptions=r:this.mutationDefaults.push({mutationKey:n,defaultOptions:r})},e.getMutationDefaults=function(n){var r;return n?(r=this.mutationDefaults.find(function(i){return Et(n,i.mutationKey)}))==null?void 0:r.defaultOptions:void 0},e.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var r=O({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!r.queryHash&&r.queryKey&&(r.queryHash=ks(r.queryKey,r)),r},e.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},e.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:O({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),qa=function(s){Pe(e,s);function e(n,r){var i;return i=s.call(this)||this,i.client=n,i.options=r,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(r),i}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),nn(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return ps(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return ps(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(r,i){var o=this.options,c=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&rn(this.currentQuery,c,this.options,o)&&this.executeFetch(),this.updateResult(i),l&&(this.currentQuery!==c||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==c||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},t.getOptimisticResult=function(r){var i=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,i);return this.createResult(o,i)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(r,i){var o=this,c={},l=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(r).forEach(function(u){Object.defineProperty(c,u,{configurable:!1,enumerable:!0,get:function(){return l(u),r[u]}})}),(i.useErrorBoundary||i.suspense)&&l("error"),c},t.getNextResult=function(r){var i=this;return new Promise(function(o,c){var l=i.subscribe(function(u){u.isFetching||(l(),u.isError&&(r!=null&&r.throwOnError)?c(u.error):o(u))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(r){return this.fetch(O({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},t.fetchOptimistic=function(r){var i=this,o=this.client.defaultQueryObserverOptions(r),c=this.client.getQueryCache().build(this.client,o);return c.fetch().then(function(){return i.createResult(c,o)})},t.fetch=function(r){var i=this;return this.executeFetch(r).then(function(){return i.updateResult(),i.currentResult})},t.executeFetch=function(r){this.updateQuery();var i=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(q)),i},t.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(Nt||this.currentResult.isStale||!hs(this.options.staleTime))){var i=Kn(this.currentResult.dataUpdatedAt,this.options.staleTime),o=i+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},t.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},t.updateRefetchInterval=function(r){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(Nt||this.options.enabled===!1||!hs(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||He.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(r,i){var o=this.currentQuery,c=this.options,l=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,h=r!==o,m=h?r.state:this.currentQueryInitialState,w=h?this.currentResult:this.previousQueryResult,f=r.state,g=f.dataUpdatedAt,p=f.error,j=f.errorUpdatedAt,b=f.isFetching,y=f.status,S=!1,C=!1,_;if(i.optimisticResults){var D=this.hasListeners(),T=!D&&nn(r,i),R=D&&rn(r,o,i,c);(T||R)&&(b=!0,g||(y="loading"))}if(i.keepPreviousData&&!f.dataUpdateCount&&(w!=null&&w.isSuccess)&&y!=="error")_=w.data,g=w.dataUpdatedAt,y=w.status,S=!0;else if(i.select&&typeof f.data<"u")if(l&&f.data===(u==null?void 0:u.data)&&i.select===this.selectFn)_=this.selectResult;else try{this.selectFn=i.select,_=i.select(f.data),i.structuralSharing!==!1&&(_=Ct(l==null?void 0:l.data,_)),this.selectResult=_,this.selectError=null}catch(G){Rt().error(G),this.selectError=G}else _=f.data;if(typeof i.placeholderData<"u"&&typeof _>"u"&&(y==="loading"||y==="idle")){var L;if(l!=null&&l.isPlaceholderData&&i.placeholderData===(d==null?void 0:d.placeholderData))L=l.data;else if(L=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof L<"u")try{L=i.select(L),i.structuralSharing!==!1&&(L=Ct(l==null?void 0:l.data,L)),this.selectError=null}catch(G){Rt().error(G),this.selectError=G}typeof L<"u"&&(y="success",_=L,C=!0)}this.selectError&&(p=this.selectError,_=this.selectResult,j=Date.now(),y="error");var te={status:y,isLoading:y==="loading",isSuccess:y==="success",isError:y==="error",isIdle:y==="idle",data:_,dataUpdatedAt:g,error:p,errorUpdatedAt:j,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>m.dataUpdateCount||f.errorUpdateCount>m.errorUpdateCount,isFetching:b,isRefetching:b&&y!=="loading",isLoadingError:y==="error"&&f.dataUpdatedAt===0,isPlaceholderData:C,isPreviousData:S,isRefetchError:y==="error"&&f.dataUpdatedAt!==0,isStale:Ls(r,i),refetch:this.refetch,remove:this.remove};return te},t.shouldNotifyListeners=function(r,i){if(!i)return!0;var o=this.options,c=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!c&&!l||c==="tracked"&&!this.trackedProps.length)return!0;var u=c==="tracked"?this.trackedProps:c;return Object.keys(r).some(function(d){var h=d,m=r[h]!==i[h],w=u==null?void 0:u.some(function(g){return g===d}),f=l==null?void 0:l.some(function(g){return g===d});return m&&!f&&(!u||w)})},t.updateResult=function(r){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Ea(this.currentResult,i)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(o.listeners=!0),this.notify(O({},o,r))}},t.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var i=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))}},t.onQueryUpdate=function(r){var i={};r.type==="success"?i.onSuccess=!0:r.type==="error"&&!lt(r.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},t.notify=function(r){var i=this;A.batch(function(){r.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):r.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),r.listeners&&i.listeners.forEach(function(o){o(i.currentResult)}),r.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},e}(Ae);function Ma(s,e){return e.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&e.retryOnMount===!1)}function nn(s,e){return Ma(s,e)||s.state.dataUpdatedAt>0&&ps(s,e,e.refetchOnMount)}function ps(s,e,t){if(e.enabled!==!1){var n=typeof t=="function"?t(s):t;return n==="always"||n!==!1&&Ls(s,e)}return!1}function rn(s,e,t,n){return t.enabled!==!1&&(s!==e||n.enabled===!1)&&(!t.suspense||s.state.status!=="error")&&Ls(s,t)}function Ls(s,e){return s.isStaleByTime(e.staleTime)}var $a=function(s){Pe(e,s);function e(n,r){var i;return i=s.call(this)||this,i.client=n,i.setOptions(r),i.bindMethods(),i.updateResult(),i}var t=e.prototype;return t.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},t.setOptions=function(r){this.options=this.client.defaultMutationOptions(r)},t.onUnsubscribe=function(){if(!this.listeners.length){var r;(r=this.currentMutation)==null||r.removeObserver(this)}},t.onMutationUpdate=function(r){this.updateResult();var i={listeners:!0};r.type==="success"?i.onSuccess=!0:r.type==="error"&&(i.onError=!0),this.notify(i)},t.getCurrentResult=function(){return this.currentResult},t.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},t.mutate=function(r,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,O({},this.options,{variables:typeof r<"u"?r:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},t.updateResult=function(){var r=this.currentMutation?this.currentMutation.state:Xn(),i=O({},r,{isLoading:r.status==="loading",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},t.notify=function(r){var i=this;A.batch(function(){i.mutateOptions&&(r.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):r.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),r.listeners&&i.listeners.forEach(function(o){o(i.currentResult)})})},e}(Ae),Qa=ti.unstable_batchedUpdates;A.setBatchNotifyFunction(Qa);var Ha=console;Pa(Ha);var an=F.createContext(void 0),Zn=F.createContext(!1);function er(s){return s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=an),window.ReactQueryClientContext):an}var Bt=function(){var e=F.useContext(er(F.useContext(Zn)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},za=function(e){var t=e.client,n=e.contextSharing,r=n===void 0?!1:n,i=e.children;F.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var o=er(r);return F.createElement(Zn.Provider,{value:r},F.createElement(o.Provider,{value:t},i))};function Ka(){var s=!1;return{clearReset:function(){s=!1},reset:function(){s=!0},isReset:function(){return s}}}var Va=F.createContext(Ka()),Wa=function(){return F.useContext(Va)};function tr(s,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!s}function ms(s,e,t){var n=F.useRef(!1),r=F.useState(0),i=r[1],o=ja(s,e,t),c=Bt(),l=F.useRef();l.current?l.current.setOptions(o):l.current=new $a(c,o);var u=l.current.getCurrentResult();F.useEffect(function(){n.current=!0;var h=l.current.subscribe(A.batchCalls(function(){n.current&&i(function(m){return m+1})}));return function(){n.current=!1,h()}},[]);var d=F.useCallback(function(h,m){l.current.mutate(h,m).catch(q)},[]);if(u.error&&tr(void 0,l.current.options.useErrorBoundary,[u.error]))throw u.error;return O({},u,{mutate:d,mutateAsync:u.mutate})}function Ja(s,e){var t=F.useRef(!1),n=F.useState(0),r=n[1],i=Bt(),o=Wa(),c=i.defaultQueryObserverOptions(s);c.optimisticResults=!0,c.onError&&(c.onError=A.batchCalls(c.onError)),c.onSuccess&&(c.onSuccess=A.batchCalls(c.onSuccess)),c.onSettled&&(c.onSettled=A.batchCalls(c.onSettled)),c.suspense&&(typeof c.staleTime!="number"&&(c.staleTime=1e3),c.cacheTime===0&&(c.cacheTime=1)),(c.suspense||c.useErrorBoundary)&&(o.isReset()||(c.retryOnMount=!1));var l=F.useState(function(){return new e(i,c)}),u=l[0],d=u.getOptimisticResult(c);if(F.useEffect(function(){t.current=!0,o.clearReset();var h=u.subscribe(A.batchCalls(function(){t.current&&r(function(m){return m+1})}));return u.updateResult(),function(){t.current=!1,h()}},[o,u]),F.useEffect(function(){u.setOptions(c,{listeners:!1})},[c,u]),c.suspense&&d.isLoading)throw u.fetchOptimistic(c).then(function(h){var m=h.data;c.onSuccess==null||c.onSuccess(m),c.onSettled==null||c.onSettled(m,null)}).catch(function(h){o.clearReset(),c.onError==null||c.onError(h),c.onSettled==null||c.onSettled(void 0,h)});if(d.isError&&!o.isReset()&&!d.isFetching&&tr(c.suspense,c.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return c.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,c)),d}function Oe(s,e,t){var n=ot(s,e,t);return Ja(n,qa)}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Ke.apply(this,arguments)}var he;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(he||(he={}));const on="popstate";function Ya(s){s===void 0&&(s={});function e(n,r){let{pathname:i,search:o,hash:c}=n.location;return ys("",{pathname:i,search:o,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(n,r){return typeof r=="string"?r:Ot(r)}return Xa(e,t,null,s)}function k(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function sr(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ga(){return Math.random().toString(36).substr(2,8)}function cn(s,e){return{usr:s.state,key:s.key,idx:e}}function ys(s,e,t,n){return t===void 0&&(t=null),Ke({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?ke(e):e,{state:t,key:e&&e.key||n||Ga()})}function Ot(s){let{pathname:e="/",search:t="",hash:n=""}=s;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ke(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substr(t),s=s.substr(0,t));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function Xa(s,e,t,n){n===void 0&&(n={});let{window:r=document.defaultView,v5Compat:i=!1}=n,o=r.history,c=he.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Ke({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){c=he.Pop;let p=d(),j=p==null?null:p-u;u=p,l&&l({action:c,location:g.location,delta:j})}function m(p,j){c=he.Push;let b=ys(g.location,p,j);t&&t(b,p),u=d()+1;let y=cn(b,u),S=g.createHref(b);try{o.pushState(y,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;r.location.assign(S)}i&&l&&l({action:c,location:g.location,delta:1})}function w(p,j){c=he.Replace;let b=ys(g.location,p,j);t&&t(b,p),u=d();let y=cn(b,u),S=g.createHref(b);o.replaceState(y,"",S),i&&l&&l({action:c,location:g.location,delta:0})}function f(p){let j=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof p=="string"?p:Ot(p);return b=b.replace(/ $/,"%20"),k(j,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,j)}let g={get action(){return c},get location(){return s(r,o)},listen(p){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(on,h),l=p,()=>{r.removeEventListener(on,h),l=null}},createHref(p){return e(r,p)},createURL:f,encodeLocation(p){let j=f(p);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:m,replace:w,go(p){return o.go(p)}};return g}var ln;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(ln||(ln={}));function Za(s,e,t){return t===void 0&&(t="/"),eo(s,e,t,!1)}function eo(s,e,t,n){let r=typeof e=="string"?ke(e):e,i=Te(r.pathname||"/",t);if(i==null)return null;let o=nr(s);to(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=fo(i);c=uo(o[l],u,n)}return c}function nr(s,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let r=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(k(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=fe([n,l.relativePath]),d=t.concat(l);i.children&&i.children.length>0&&(k(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nr(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:co(u,i.index),routesMeta:d})};return s.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))r(i,o);else for(let l of rr(i.path))r(i,o,l)}),e}function rr(s){let e=s.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),i=t.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let o=rr(n.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&c.push(...o),c.map(l=>s.startsWith("/")&&l===""?"/":l)}function to(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:lo(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const so=/^:[\w-]+$/,no=3,ro=2,io=1,ao=10,oo=-2,un=s=>s==="*";function co(s,e){let t=s.split("/"),n=t.length;return t.some(un)&&(n+=oo),e&&(n+=ro),t.filter(r=>!un(r)).reduce((r,i)=>r+(so.test(i)?no:i===""?io:ao),n)}function lo(s,e){return s.length===e.length&&s.slice(0,-1).every((n,r)=>n===e[r])?s[s.length-1]-e[e.length-1]:0}function uo(s,e,t){t===void 0&&(t=!1);let{routesMeta:n}=s,r={},i="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Tt({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!h&&u&&t&&!n[n.length-1].route.index&&(h=Tt({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:fe([i,h.pathname]),pathnameBase:xo(fe([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=fe([i,h.pathnameBase]))}return o}function Tt(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,n]=ho(s.path,s.caseSensitive,s.end),r=e.match(t);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let g=c[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const f=c[h];return w&&!f?u[m]=void 0:u[m]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:s}}function ho(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),sr(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function fo(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Te(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=s.charAt(t);return n&&n!=="/"?null:s.slice(t)||"/"}function po(s,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:r=""}=typeof s=="string"?ke(s):s;return{pathname:t?t.startsWith("/")?t:mo(t,e):e,search:go(n),hash:vo(r)}}function mo(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function ts(s,e,t,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yo(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ds(s,e){let t=yo(s);return e?t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Fs(s,e,t,n){n===void 0&&(n=!1);let r;typeof s=="string"?r=ke(s):(r=Ke({},s),k(!r.pathname||!r.pathname.includes("?"),ts("?","pathname","search",r)),k(!r.pathname||!r.pathname.includes("#"),ts("#","pathname","hash",r)),k(!r.search||!r.search.includes("#"),ts("#","search","hash",r)));let i=s===""||r.pathname==="",o=i?"/":r.pathname,c;if(o==null)c=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}c=h>=0?e[h]:"/"}let l=po(r,c),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const fe=s=>s.join("/").replace(/\/\/+/g,"/"),xo=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),go=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,vo=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function bo(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const ir=["post","put","patch","delete"];new Set(ir);const wo=["get",...ir];new Set(wo);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ve(){return Ve=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},Ve.apply(this,arguments)}const qt=v.createContext(null),ar=v.createContext(null),oe=v.createContext(null),Mt=v.createContext(null),ce=v.createContext({outlet:null,matches:[],isDataRoute:!1}),or=v.createContext(null);function jo(s,e){let{relative:t}=e===void 0?{}:e;Le()||k(!1);let{basename:n,navigator:r}=v.useContext(oe),{hash:i,pathname:o,search:c}=$t(s,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:fe([n,o])),r.createHref({pathname:l,search:c,hash:i})}function Le(){return v.useContext(Mt)!=null}function Se(){return Le()||k(!1),v.useContext(Mt).location}function cr(s){v.useContext(oe).static||v.useLayoutEffect(s)}function lr(){let{isDataRoute:s}=v.useContext(ce);return s?Io():No()}function No(){Le()||k(!1);let s=v.useContext(qt),{basename:e,future:t,navigator:n}=v.useContext(oe),{matches:r}=v.useContext(ce),{pathname:i}=Se(),o=JSON.stringify(Ds(r,t.v7_relativeSplatPath)),c=v.useRef(!1);return cr(()=>{c.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let h=Fs(u,JSON.parse(o),i,d.relative==="path");s==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:fe([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,s])}const So=v.createContext(null);function Eo(s){let e=v.useContext(ce).outlet;return e&&v.createElement(So.Provider,{value:s},e)}function $t(s,e){let{relative:t}=e===void 0?{}:e,{future:n}=v.useContext(oe),{matches:r}=v.useContext(ce),{pathname:i}=Se(),o=JSON.stringify(Ds(r,n.v7_relativeSplatPath));return v.useMemo(()=>Fs(s,JSON.parse(o),i,t==="path"),[s,o,i,t])}function Co(s,e){return _o(s,e)}function _o(s,e,t,n){Le()||k(!1);let{navigator:r}=v.useContext(oe),{matches:i}=v.useContext(ce),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Se(),d;if(e){var h;let p=typeof e=="string"?ke(e):e;l==="/"||(h=p.pathname)!=null&&h.startsWith(l)||k(!1),d=p}else d=u;let m=d.pathname||"/",w=m;if(l!=="/"){let p=l.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(p.length).join("/")}let f=Za(s,{pathname:w}),g=Ao(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:fe([l,r.encodeLocation?r.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:fe([l,r.encodeLocation?r.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,t,n);return e&&g?v.createElement(Mt.Provider,{value:{location:Ve({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:he.Pop}},g):g}function Ro(){let s=Fo(),e=bo(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:r},t):null,i)}const Oo=v.createElement(Ro,null);class To extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(ce.Provider,{value:this.props.routeContext},v.createElement(or.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Po(s){let{routeContext:e,match:t,children:n}=s,r=v.useContext(qt);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ce.Provider,{value:e},n)}function Ao(s,e,t,n){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),s==null){var i;if(!t)return null;if(t.errors)s=t.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let o=s,c=(r=t)==null?void 0:r.errors;if(c!=null){let d=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);d>=0||k(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:w}=t,f=h.route.loader&&m[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||f){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let w,f=!1,g=null,p=null;t&&(w=c&&h.route.id?c[h.route.id]:void 0,g=h.route.errorElement||Oo,l&&(u<0&&m===0?(Uo("route-fallback",!1),f=!0,p=null):u===m&&(f=!0,p=h.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,m+1)),b=()=>{let y;return w?y=g:f?y=p:h.route.Component?y=v.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,v.createElement(Po,{match:h,routeContext:{outlet:d,matches:j,isDataRoute:t!=null},children:y})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?v.createElement(To,{location:t.location,revalidation:t.revalidation,component:g,error:w,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}var ur=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(ur||{}),Pt=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(Pt||{});function ko(s){let e=v.useContext(qt);return e||k(!1),e}function Lo(s){let e=v.useContext(ar);return e||k(!1),e}function Do(s){let e=v.useContext(ce);return e||k(!1),e}function dr(s){let e=Do(),t=e.matches[e.matches.length-1];return t.route.id||k(!1),t.route.id}function Fo(){var s;let e=v.useContext(or),t=Lo(Pt.UseRouteError),n=dr(Pt.UseRouteError);return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function Io(){let{router:s}=ko(ur.UseNavigateStable),e=dr(Pt.UseNavigateStable),t=v.useRef(!1);return cr(()=>{t.current=!0}),v.useCallback(function(r,i){i===void 0&&(i={}),t.current&&(typeof r=="number"?s.navigate(r):s.navigate(r,Ve({fromRouteId:e},i)))},[s,e])}const dn={};function Uo(s,e,t){!e&&!dn[s]&&(dn[s]=!0)}function Bo(s,e){s==null||s.v7_startTransition,(s==null?void 0:s.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function hn(s){let{to:e,replace:t,state:n,relative:r}=s;Le()||k(!1);let{future:i,static:o}=v.useContext(oe),{matches:c}=v.useContext(ce),{pathname:l}=Se(),u=lr(),d=Fs(e,Ds(c,i.v7_relativeSplatPath),l,r==="path"),h=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(h),{replace:t,state:n,relative:r}),[u,h,r,t,n]),null}function qo(s){return Eo(s.context)}function z(s){k(!1)}function Mo(s){let{basename:e="/",children:t=null,location:n,navigationType:r=he.Pop,navigator:i,static:o=!1,future:c}=s;Le()&&k(!1);let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Ve({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof n=="string"&&(n=ke(n));let{pathname:d="/",search:h="",hash:m="",state:w=null,key:f="default"}=n,g=v.useMemo(()=>{let p=Te(d,l);return p==null?null:{location:{pathname:p,search:h,hash:m,state:w,key:f},navigationType:r}},[l,d,h,m,w,f,r]);return g==null?null:v.createElement(oe.Provider,{value:u},v.createElement(Mt.Provider,{children:t,value:g}))}function $o(s){let{children:e,location:t}=s;return Co(xs(e),t)}new Promise(()=>{});function xs(s,e){e===void 0&&(e=[]);let t=[];return v.Children.forEach(s,(n,r)=>{if(!v.isValidElement(n))return;let i=[...e,r];if(n.type===v.Fragment){t.push.apply(t,xs(n.props.children,i));return}n.type!==z&&k(!1),!n.props.index||!n.props.children||k(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xs(n.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function At(){return At=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=t[n])}return s},At.apply(this,arguments)}function hr(s,e){if(s==null)return{};var t={},n=Object.keys(s),r,i;for(i=0;i<n.length;i++)r=n[i],!(e.indexOf(r)>=0)&&(t[r]=s[r]);return t}function Qo(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Ho(s,e){return s.button===0&&(!e||e==="_self")&&!Qo(s)}const zo=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ko=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Vo="6";try{window.__reactRouterVersion=Vo}catch{}const Wo=v.createContext({isTransitioning:!1}),Jo="startTransition",fn=si[Jo];function Yo(s){let{basename:e,children:t,future:n,window:r}=s,i=v.useRef();i.current==null&&(i.current=Ya({window:r,v5Compat:!0}));let o=i.current,[c,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(h=>{u&&fn?fn(()=>l(h)):l(h)},[l,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>Bo(n),[n]),v.createElement(Mo,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,future:n})}const Go=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zo=v.forwardRef(function(e,t){let{onClick:n,relative:r,reloadDocument:i,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,m=hr(e,zo),{basename:w}=v.useContext(oe),f,g=!1;if(typeof u=="string"&&Xo.test(u)&&(f=u,Go))try{let y=new URL(window.location.href),S=u.startsWith("//")?new URL(y.protocol+u):new URL(u),C=Te(S.pathname,w);S.origin===y.origin&&C!=null?u=C+S.search+S.hash:g=!0}catch{}let p=jo(u,{relative:r}),j=tc(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:r,viewTransition:h});function b(y){n&&n(y),y.defaultPrevented||j(y)}return v.createElement("a",At({},m,{href:f||p,onClick:g||i?n:b,ref:t,target:l}))}),pn=v.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:c,to:l,viewTransition:u,children:d}=e,h=hr(e,Ko),m=$t(l,{relative:h.relative}),w=Se(),f=v.useContext(ar),{navigator:g,basename:p}=v.useContext(oe),j=f!=null&&sc(m)&&u===!0,b=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,y=w.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;r||(y=y.toLowerCase(),S=S?S.toLowerCase():null,b=b.toLowerCase()),S&&p&&(S=Te(S,p)||S);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=y===b||!o&&y.startsWith(b)&&y.charAt(C)==="/",D=S!=null&&(S===b||!o&&S.startsWith(b)&&S.charAt(b.length)==="/"),T={isActive:_,isPending:D,isTransitioning:j},R=_?n:void 0,L;typeof i=="function"?L=i(T):L=[i,_?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let te=typeof c=="function"?c(T):c;return v.createElement(Zo,At({},h,{"aria-current":R,className:L,ref:t,style:te,to:l,viewTransition:u}),typeof d=="function"?d(T):d)});var gs;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(gs||(gs={}));var mn;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(mn||(mn={}));function ec(s){let e=v.useContext(qt);return e||k(!1),e}function tc(s,e){let{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,l=lr(),u=Se(),d=$t(s,{relative:o});return v.useCallback(h=>{if(Ho(h,t)){h.preventDefault();let m=n!==void 0?n:Ot(u)===Ot(d);l(s,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[u,l,d,n,r,t,s,i,o,c])}function sc(s,e){e===void 0&&(e={});let t=v.useContext(Wo);t==null&&k(!1);let{basename:n}=ec(gs.useViewTransitionState),r=$t(s,{relative:e.relative});if(!t.isTransitioning)return!1;let i=Te(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Te(t.nextLocation.pathname,n)||t.nextLocation.pathname;return Tt(r.pathname,o)!=null||Tt(r.pathname,i)!=null}const ee=Object.create(null);ee.open="0";ee.close="1";ee.ping="2";ee.pong="3";ee.message="4";ee.upgrade="5";ee.noop="6";const ut=Object.create(null);Object.keys(ee).forEach(s=>{ut[ee[s]]=s});const vs={type:"error",data:"parser error"},fr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",pr=typeof ArrayBuffer=="function",mr=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,Is=({type:s,data:e},t,n)=>fr&&e instanceof Blob?t?n(e):yn(e,n):pr&&(e instanceof ArrayBuffer||mr(e))?t?n(e):yn(new Blob([e]),n):n(ee[s]+(e||"")),yn=(s,e)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];e("b"+(n||""))},t.readAsDataURL(s)};function xn(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let ss;function nc(s,e){if(fr&&s.data instanceof Blob)return s.data.arrayBuffer().then(xn).then(e);if(pr&&(s.data instanceof ArrayBuffer||mr(s.data)))return e(xn(s.data));Is(s,!1,t=>{ss||(ss=new TextEncoder),e(ss.encode(t))})}const gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Me=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<gn.length;s++)Me[gn.charCodeAt(s)]=s;const rc=s=>{let e=s.length*.75,t=s.length,n,r=0,i,o,c,l;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<t;n+=4)i=Me[s.charCodeAt(n)],o=Me[s.charCodeAt(n+1)],c=Me[s.charCodeAt(n+2)],l=Me[s.charCodeAt(n+3)],d[r++]=i<<2|o>>4,d[r++]=(o&15)<<4|c>>2,d[r++]=(c&3)<<6|l&63;return u},ic=typeof ArrayBuffer=="function",Us=(s,e)=>{if(typeof s!="string")return{type:"message",data:yr(s,e)};const t=s.charAt(0);return t==="b"?{type:"message",data:ac(s.substring(1),e)}:ut[t]?s.length>1?{type:ut[t],data:s.substring(1)}:{type:ut[t]}:vs},ac=(s,e)=>{if(ic){const t=rc(s);return yr(t,e)}else return{base64:!0,data:s}},yr=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},xr=String.fromCharCode(30),oc=(s,e)=>{const t=s.length,n=new Array(t);let r=0;s.forEach((i,o)=>{Is(i,!1,c=>{n[o]=c,++r===t&&e(n.join(xr))})})},cc=(s,e)=>{const t=s.split(xr),n=[];for(let r=0;r<t.length;r++){const i=Us(t[r],e);if(n.push(i),i.type==="error")break}return n};function lc(){return new TransformStream({transform(s,e){nc(s,t=>{const n=t.length;let r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);const i=new DataView(r.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{r=new Uint8Array(9);const i=new DataView(r.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let ns;function nt(s){return s.reduce((e,t)=>e+t.length,0)}function rt(s,e){if(s[0].length===e)return s.shift();const t=new Uint8Array(e);let n=0;for(let r=0;r<e;r++)t[r]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),t}function uc(s,e){ns||(ns=new TextDecoder);const t=[];let n=0,r=-1,i=!1;return new TransformStream({transform(o,c){for(t.push(o);;){if(n===0){if(nt(t)<1)break;const l=rt(t,1);i=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(nt(t)<2)break;const l=rt(t,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(nt(t)<8)break;const l=rt(t,8),u=new DataView(l.buffer,l.byteOffset,l.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){c.enqueue(vs);break}r=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(nt(t)<r)break;const l=rt(t,r);c.enqueue(Us(i?l:ns.decode(l),e)),n=0}if(r===0||r>s){c.enqueue(vs);break}}}})}const gr=4;function I(s){if(s)return dc(s)}function dc(s){for(var e in I.prototype)s[e]=I.prototype[e];return s}I.prototype.on=I.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};I.prototype.once=function(s,e){function t(){this.off(s,t),e.apply(this,arguments)}return t.fn=e,this.on(s,t),this};I.prototype.off=I.prototype.removeListener=I.prototype.removeAllListeners=I.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+s];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,r=0;r<t.length;r++)if(n=t[r],n===e||n.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+s],this};I.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,r=t.length;n<r;++n)t[n].apply(this,e)}return this};I.prototype.emitReserved=I.prototype.emit;I.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};I.prototype.hasListeners=function(s){return!!this.listeners(s).length};const Qt=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),K=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),hc="arraybuffer";function vr(s,...e){return e.reduce((t,n)=>(s.hasOwnProperty(n)&&(t[n]=s[n]),t),{})}const fc=K.setTimeout,pc=K.clearTimeout;function Ht(s,e){e.useNativeTimers?(s.setTimeoutFn=fc.bind(K),s.clearTimeoutFn=pc.bind(K)):(s.setTimeoutFn=K.setTimeout.bind(K),s.clearTimeoutFn=K.clearTimeout.bind(K))}const mc=1.33;function yc(s){return typeof s=="string"?xc(s):Math.ceil((s.byteLength||s.size)*mc)}function xc(s){let e=0,t=0;for(let n=0,r=s.length;n<r;n++)e=s.charCodeAt(n),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(n++,t+=4);return t}function br(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function gc(s){let e="";for(let t in s)s.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(s[t]));return e}function vc(s){let e={},t=s.split("&");for(let n=0,r=t.length;n<r;n++){let i=t[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class bc extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Bs extends I{constructor(e){super(),this.writable=!1,Ht(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new bc(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Us(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=gc(e);return t.length?"?"+t:""}}class wc extends Bs{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};cc(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,oc(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=br()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let wr=!1;try{wr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const jc=wr;function Nc(){}class Sc extends wc{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(r,i)=>{this.onError("xhr post error",r,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=e}}let Ce=class dt extends I{constructor(e,t,n){super(),this.createRequest=e,Ht(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const t=vr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var r;n.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=dt.requestsCount++,dt.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Nc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete dt.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ce.requestsCount=0;Ce.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vn);else if(typeof addEventListener=="function"){const s="onpagehide"in K?"pagehide":"unload";addEventListener(s,vn,!1)}}function vn(){for(let s in Ce.requests)Ce.requests.hasOwnProperty(s)&&Ce.requests[s].abort()}const Ec=function(){const s=jr({xdomain:!1});return s&&s.responseType!==null}();class Cc extends Sc{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Ec&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ce(jr,this.uri(),e)}}function jr(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||jc))return new XMLHttpRequest}catch{}if(!e)try{return new K[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Nr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class _c extends Bs{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Nr?{}:vr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;Is(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}r&&Qt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=br()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const rs=K.WebSocket||K.MozWebSocket;class Rc extends _c{createSocket(e,t,n){return Nr?new rs(e,t,n):t?new rs(e,t):new rs(e)}doWrite(e,t){this.ws.send(t)}}class Oc extends Bs{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=uc(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=lc();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(({done:c,value:l})=>{c||(this.onPacket(l),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&Qt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Tc={websocket:Rc,webtransport:Oc,polling:Cc},Pc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ac=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function bs(s){if(s.length>8e3)throw"URI too long";const e=s,t=s.indexOf("["),n=s.indexOf("]");t!=-1&&n!=-1&&(s=s.substring(0,t)+s.substring(t,n).replace(/:/g,";")+s.substring(n,s.length));let r=Pc.exec(s||""),i={},o=14;for(;o--;)i[Ac[o]]=r[o]||"";return t!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=kc(i,i.path),i.queryKey=Lc(i,i.query),i}function kc(s,e){const t=/\/{2,9}/g,n=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Lc(s,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,i){r&&(t[r]=i)}),t}const ws=typeof addEventListener=="function"&&typeof removeEventListener=="function",ht=[];ws&&addEventListener("offline",()=>{ht.forEach(s=>s())},!1);class pe extends I{constructor(e,t){if(super(),this.binaryType=hc,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const n=bs(e);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=bs(t.host).host);Ht(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const r=n.prototype.name;this.transports.push(r),this._transportsByName[r]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=vc(this.opts.query)),ws&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ht.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=gr,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&pe.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",pe.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+=yc(r)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Qt(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if(typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(pe.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ws&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ht.indexOf(this._offlineEventListener);n!==-1&&ht.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}pe.protocol=gr;class Dc extends pe{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;pe.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;pe.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=t.name,this.emitReserved("upgradeError",m)}}))};function i(){n||(n=!0,d(),t.close(),t=null)}const o=h=>{const m=new Error("probe error: "+h);m.transport=t.name,i(),this.emitReserved("upgradeError",m)};function c(){o("transport closed")}function l(){o("socket closed")}function u(h){t&&h.name!==t.name&&i()}const d=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",c),this.off("close",l),this.off("upgrading",u)};t.once("open",r),t.once("error",o),t.once("close",c),this.once("close",l),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}let Fc=class extends Dc{constructor(e,t={}){const n=typeof e=="object"?e:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(r=>Tc[r]).filter(r=>!!r)),super(e,n)}};function Ic(s,e="",t){let n=s;t=t||typeof location<"u"&&location,s==null&&(s=t.protocol+"//"+t.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=t.protocol+s:s=t.host+s),/^(https?|wss?):\/\//.test(s)||(typeof t<"u"?s=t.protocol+"//"+s:s="https://"+s),n=bs(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(t&&t.port===n.port?"":":"+n.port),n}const Uc=typeof ArrayBuffer=="function",Bc=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,Sr=Object.prototype.toString,qc=typeof Blob=="function"||typeof Blob<"u"&&Sr.call(Blob)==="[object BlobConstructor]",Mc=typeof File=="function"||typeof File<"u"&&Sr.call(File)==="[object FileConstructor]";function qs(s){return Uc&&(s instanceof ArrayBuffer||Bc(s))||qc&&s instanceof Blob||Mc&&s instanceof File}function ft(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let t=0,n=s.length;t<n;t++)if(ft(s[t]))return!0;return!1}if(qs(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return ft(s.toJSON(),!0);for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t)&&ft(s[t]))return!0;return!1}function $c(s){const e=[],t=s.data,n=s;return n.data=js(t,e),n.attachments=e.length,{packet:n,buffers:e}}function js(s,e){if(!s)return s;if(qs(s)){const t={_placeholder:!0,num:e.length};return e.push(s),t}else if(Array.isArray(s)){const t=new Array(s.length);for(let n=0;n<s.length;n++)t[n]=js(s[n],e);return t}else if(typeof s=="object"&&!(s instanceof Date)){const t={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=js(s[n],e));return t}return s}function Qc(s,e){return s.data=Ns(s.data,e),delete s.attachments,s}function Ns(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let t=0;t<s.length;t++)s[t]=Ns(s[t],e);else if(typeof s=="object")for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&(s[t]=Ns(s[t],e));return s}const Hc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zc=5;var P;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(P||(P={}));class Kc{constructor(e){this.replacer=e}encode(e){return(e.type===P.EVENT||e.type===P.ACK)&&ft(e)?this.encodeAsBinary({type:e.type===P.EVENT?P.BINARY_EVENT:P.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===P.BINARY_EVENT||e.type===P.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=$c(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function bn(s){return Object.prototype.toString.call(s)==="[object Object]"}class Ms extends I{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===P.BINARY_EVENT;n||t.type===P.BINARY_ACK?(t.type=n?P.EVENT:P.ACK,this.reconstructor=new Vc(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(qs(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(P[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===P.BINARY_EVENT||n.type===P.BINARY_ACK){const i=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const o=e.substring(i,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(t+1)==="/"){const i=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(i,t)}else n.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const i=t+1;for(;++t;){const o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(Ms.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case P.CONNECT:return bn(t);case P.DISCONNECT:return t===void 0;case P.CONNECT_ERROR:return typeof t=="string"||bn(t);case P.EVENT:case P.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Hc.indexOf(t[0])===-1);case P.ACK:case P.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Qc(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Wc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ms,Encoder:Kc,get PacketType(){return P},protocol:zc},Symbol.toStringTag,{value:"Module"}));function W(s,e,t){return s.on(e,t),function(){s.off(e,t)}}const Jc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Er extends I{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[W(e,"open",this.onopen.bind(this)),W(e,"packet",this.onpacket.bind(this)),W(e,"error",this.onerror.bind(this)),W(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var n,r,i;if(Jc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const o={type:P.EVENT,data:t};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const d=this.ids++,h=t.pop();this._registerAckCallback(d,h),o.id=d}const c=(r=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||r===void 0?void 0:r.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n;const r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===e&&this.sendBuffer.splice(c,1);t.call(this,new Error("operation has timed out"))},r),o=(...c)=>{this.io.clearTimeoutFn(i),t.apply(this,c)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...t){return new Promise((n,r)=>{const i=(o,c)=>o?r(o):n(c);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...i)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:P.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case P.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case P.EVENT:case P.BINARY_EVENT:this.onevent(e);break;case P.ACK:case P.BINARY_ACK:this.onack(e);break;case P.DISCONNECT:this.ondisconnect();break;case P.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:P.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:P.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function De(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}De.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*s);s=Math.floor(e*10)&1?s+t:s-t}return Math.min(s,this.max)|0};De.prototype.reset=function(){this.attempts=0};De.prototype.setMin=function(s){this.ms=s};De.prototype.setMax=function(s){this.max=s};De.prototype.setJitter=function(s){this.jitter=s};class Ss extends I{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ht(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new De({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Wc;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Fc(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=W(t,"open",function(){n.onopen(),e&&e()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),e?e(c):this.maybeReconnectOnOpen()},o=W(t,"error",i);if(this._timeout!==!1){const c=this._timeout,l=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},c);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(W(e,"ping",this.onping.bind(this)),W(e,"data",this.ondata.bind(this)),W(e,"error",this.onerror.bind(this)),W(e,"close",this.onclose.bind(this)),W(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Qt(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Er(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Be={};function pt(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const t=Ic(s,e.path||"/socket.io"),n=t.source,r=t.id,i=t.path,o=Be[r]&&i in Be[r].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return c?l=new Ss(n,e):(Be[r]||(Be[r]=new Ss(n,e)),l=Be[r]),t.query&&!e.query&&(e.query=t.queryKey),l.socket(t.path,e)}Object.assign(pt,{Manager:Ss,Socket:Er,io:pt,connect:pt});function Cr(s,e){return function(){return s.apply(e,arguments)}}const{toString:Yc}=Object.prototype,{getPrototypeOf:$s}=Object,{iterator:zt,toStringTag:_r}=Symbol,Kt=(s=>e=>{const t=Yc.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Y=s=>(s=s.toLowerCase(),e=>Kt(e)===s),Vt=s=>e=>typeof e===s,{isArray:Fe}=Array,We=Vt("undefined");function Xe(s){return s!==null&&!We(s)&&s.constructor!==null&&!We(s.constructor)&&Q(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const Rr=Y("ArrayBuffer");function Gc(s){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(s):e=s&&s.buffer&&Rr(s.buffer),e}const Xc=Vt("string"),Q=Vt("function"),Or=Vt("number"),Ze=s=>s!==null&&typeof s=="object",Zc=s=>s===!0||s===!1,mt=s=>{if(Kt(s)!=="object")return!1;const e=$s(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_r in s)&&!(zt in s)},el=s=>{if(!Ze(s)||Xe(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},tl=Y("Date"),sl=Y("File"),nl=Y("Blob"),rl=Y("FileList"),il=s=>Ze(s)&&Q(s.pipe),al=s=>{let e;return s&&(typeof FormData=="function"&&s instanceof FormData||Q(s.append)&&((e=Kt(s))==="formdata"||e==="object"&&Q(s.toString)&&s.toString()==="[object FormData]"))},ol=Y("URLSearchParams"),[cl,ll,ul,dl]=["ReadableStream","Request","Response","Headers"].map(Y),hl=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function et(s,e,{allOwnKeys:t=!1}={}){if(s===null||typeof s>"u")return;let n,r;if(typeof s!="object"&&(s=[s]),Fe(s))for(n=0,r=s.length;n<r;n++)e.call(null,s[n],n,s);else{if(Xe(s))return;const i=t?Object.getOwnPropertyNames(s):Object.keys(s),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,s[c],c,s)}}function Tr(s,e){if(Xe(s))return null;e=e.toLowerCase();const t=Object.keys(s);let n=t.length,r;for(;n-- >0;)if(r=t[n],e===r.toLowerCase())return r;return null}const we=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Pr=s=>!We(s)&&s!==we;function Es(){const{caseless:s}=Pr(this)&&this||{},e={},t=(n,r)=>{const i=s&&Tr(e,r)||r;mt(e[i])&&mt(n)?e[i]=Es(e[i],n):mt(n)?e[i]=Es({},n):Fe(n)?e[i]=n.slice():e[i]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&et(arguments[n],t);return e}const fl=(s,e,t,{allOwnKeys:n}={})=>(et(e,(r,i)=>{t&&Q(r)?s[i]=Cr(r,t):s[i]=r},{allOwnKeys:n}),s),pl=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),ml=(s,e,t,n)=>{s.prototype=Object.create(e.prototype,n),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:e.prototype}),t&&Object.assign(s.prototype,t)},yl=(s,e,t,n)=>{let r,i,o;const c={};if(e=e||{},s==null)return e;do{for(r=Object.getOwnPropertyNames(s),i=r.length;i-- >0;)o=r[i],(!n||n(o,s,e))&&!c[o]&&(e[o]=s[o],c[o]=!0);s=t!==!1&&$s(s)}while(s&&(!t||t(s,e))&&s!==Object.prototype);return e},xl=(s,e,t)=>{s=String(s),(t===void 0||t>s.length)&&(t=s.length),t-=e.length;const n=s.indexOf(e,t);return n!==-1&&n===t},gl=s=>{if(!s)return null;if(Fe(s))return s;let e=s.length;if(!Or(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=s[e];return t},vl=(s=>e=>s&&e instanceof s)(typeof Uint8Array<"u"&&$s(Uint8Array)),bl=(s,e)=>{const n=(s&&s[zt]).call(s);let r;for(;(r=n.next())&&!r.done;){const i=r.value;e.call(s,i[0],i[1])}},wl=(s,e)=>{let t;const n=[];for(;(t=s.exec(e))!==null;)n.push(t);return n},jl=Y("HTMLFormElement"),Nl=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,r){return n.toUpperCase()+r}),wn=(({hasOwnProperty:s})=>(e,t)=>s.call(e,t))(Object.prototype),Sl=Y("RegExp"),Ar=(s,e)=>{const t=Object.getOwnPropertyDescriptors(s),n={};et(t,(r,i)=>{let o;(o=e(r,i,s))!==!1&&(n[i]=o||r)}),Object.defineProperties(s,n)},El=s=>{Ar(s,(e,t)=>{if(Q(s)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=s[t];if(Q(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Cl=(s,e)=>{const t={},n=r=>{r.forEach(i=>{t[i]=!0})};return Fe(s)?n(s):n(String(s).split(e)),t},_l=()=>{},Rl=(s,e)=>s!=null&&Number.isFinite(s=+s)?s:e;function Ol(s){return!!(s&&Q(s.append)&&s[_r]==="FormData"&&s[zt])}const Tl=s=>{const e=new Array(10),t=(n,r)=>{if(Ze(n)){if(e.indexOf(n)>=0)return;if(Xe(n))return n;if(!("toJSON"in n)){e[r]=n;const i=Fe(n)?[]:{};return et(n,(o,c)=>{const l=t(o,r+1);!We(l)&&(i[c]=l)}),e[r]=void 0,i}}return n};return t(s,0)},Pl=Y("AsyncFunction"),Al=s=>s&&(Ze(s)||Q(s))&&Q(s.then)&&Q(s.catch),kr=((s,e)=>s?setImmediate:e?((t,n)=>(we.addEventListener("message",({source:r,data:i})=>{r===we&&i===t&&n.length&&n.shift()()},!1),r=>{n.push(r),we.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Q(we.postMessage)),kl=typeof queueMicrotask<"u"?queueMicrotask.bind(we):typeof process<"u"&&process.nextTick||kr,Ll=s=>s!=null&&Q(s[zt]),x={isArray:Fe,isArrayBuffer:Rr,isBuffer:Xe,isFormData:al,isArrayBufferView:Gc,isString:Xc,isNumber:Or,isBoolean:Zc,isObject:Ze,isPlainObject:mt,isEmptyObject:el,isReadableStream:cl,isRequest:ll,isResponse:ul,isHeaders:dl,isUndefined:We,isDate:tl,isFile:sl,isBlob:nl,isRegExp:Sl,isFunction:Q,isStream:il,isURLSearchParams:ol,isTypedArray:vl,isFileList:rl,forEach:et,merge:Es,extend:fl,trim:hl,stripBOM:pl,inherits:ml,toFlatObject:yl,kindOf:Kt,kindOfTest:Y,endsWith:xl,toArray:gl,forEachEntry:bl,matchAll:wl,isHTMLForm:jl,hasOwnProperty:wn,hasOwnProp:wn,reduceDescriptors:Ar,freezeMethods:El,toObjectSet:Cl,toCamelCase:Nl,noop:_l,toFiniteNumber:Rl,findKey:Tr,global:we,isContextDefined:Pr,isSpecCompliantForm:Ol,toJSONObject:Tl,isAsyncFn:Pl,isThenable:Al,setImmediate:kr,asap:kl,isIterable:Ll};function E(s,e,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}x.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});const Lr=E.prototype,Dr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Dr[s]={value:s}});Object.defineProperties(E,Dr);Object.defineProperty(Lr,"isAxiosError",{value:!0});E.from=(s,e,t,n,r,i)=>{const o=Object.create(Lr);return x.toFlatObject(s,o,function(l){return l!==Error.prototype},c=>c!=="isAxiosError"),E.call(o,s.message,e,t,n,r),o.cause=s,o.name=s.name,i&&Object.assign(o,i),o};const Dl=null;function Cs(s){return x.isPlainObject(s)||x.isArray(s)}function Fr(s){return x.endsWith(s,"[]")?s.slice(0,-2):s}function jn(s,e,t){return s?s.concat(e).map(function(r,i){return r=Fr(r),!t&&i?"["+r+"]":r}).join(t?".":""):e}function Fl(s){return x.isArray(s)&&!s.some(Cs)}const Il=x.toFlatObject(x,{},null,function(e){return/^is[A-Z]/.test(e)});function Wt(s,e,t){if(!x.isObject(s))throw new TypeError("target must be an object");e=e||new FormData,t=x.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!x.isUndefined(p[g])});const n=t.metaTokens,r=t.visitor||d,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&x.isSpecCompliantForm(e);if(!x.isFunction(r))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(x.isDate(f))return f.toISOString();if(x.isBoolean(f))return f.toString();if(!l&&x.isBlob(f))throw new E("Blob is not supported. Use a Buffer instead.");return x.isArrayBuffer(f)||x.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function d(f,g,p){let j=f;if(f&&!p&&typeof f=="object"){if(x.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(x.isArray(f)&&Fl(f)||(x.isFileList(f)||x.endsWith(g,"[]"))&&(j=x.toArray(f)))return g=Fr(g),j.forEach(function(y,S){!(x.isUndefined(y)||y===null)&&e.append(o===!0?jn([g],S,i):o===null?g:g+"[]",u(y))}),!1}return Cs(f)?!0:(e.append(jn(p,g,i),u(f)),!1)}const h=[],m=Object.assign(Il,{defaultVisitor:d,convertValue:u,isVisitable:Cs});function w(f,g){if(!x.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(f),x.forEach(f,function(j,b){(!(x.isUndefined(j)||j===null)&&r.call(e,j,x.isString(b)?b.trim():b,g,m))===!0&&w(j,g?g.concat(b):[b])}),h.pop()}}if(!x.isObject(s))throw new TypeError("data must be an object");return w(s),e}function Nn(s){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Qs(s,e){this._pairs=[],s&&Wt(s,this,e)}const Ir=Qs.prototype;Ir.append=function(e,t){this._pairs.push([e,t])};Ir.toString=function(e){const t=e?function(n){return e.call(this,n,Nn)}:Nn;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Ul(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ur(s,e,t){if(!e)return s;const n=t&&t.encode||Ul;x.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let i;if(r?i=r(e,t):i=x.isURLSearchParams(e)?e.toString():new Qs(e,t).toString(n),i){const o=s.indexOf("#");o!==-1&&(s=s.slice(0,o)),s+=(s.indexOf("?")===-1?"?":"&")+i}return s}class Bl{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){x.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Sn=Bl,Br={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ql=typeof URLSearchParams<"u"?URLSearchParams:Qs,Ml=typeof FormData<"u"?FormData:null,$l=typeof Blob<"u"?Blob:null,Ql={isBrowser:!0,classes:{URLSearchParams:ql,FormData:Ml,Blob:$l},protocols:["http","https","file","blob","url","data"]},Hs=typeof window<"u"&&typeof document<"u",_s=typeof navigator=="object"&&navigator||void 0,Hl=Hs&&(!_s||["ReactNative","NativeScript","NS"].indexOf(_s.product)<0),zl=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Kl=Hs&&window.location.href||"http://localhost",Vl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Hs,hasStandardBrowserEnv:Hl,hasStandardBrowserWebWorkerEnv:zl,navigator:_s,origin:Kl},Symbol.toStringTag,{value:"Module"})),M={...Vl,...Ql};function Wl(s,e){return Wt(s,new M.classes.URLSearchParams,{visitor:function(t,n,r,i){return M.isNode&&x.isBuffer(t)?(this.append(n,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Jl(s){return x.matchAll(/\w+|\[(\w*)]/g,s).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Yl(s){const e={},t=Object.keys(s);let n;const r=t.length;let i;for(n=0;n<r;n++)i=t[n],e[i]=s[i];return e}function qr(s){function e(t,n,r,i){let o=t[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),l=i>=t.length;return o=!o&&x.isArray(r)?r.length:o,l?(x.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!c):((!r[o]||!x.isObject(r[o]))&&(r[o]=[]),e(t,n,r[o],i)&&x.isArray(r[o])&&(r[o]=Yl(r[o])),!c)}if(x.isFormData(s)&&x.isFunction(s.entries)){const t={};return x.forEachEntry(s,(n,r)=>{e(Jl(n),r,t,0)}),t}return null}function Gl(s,e,t){if(x.isString(s))try{return(e||JSON.parse)(s),x.trim(s)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(s)}const zs={transitional:Br,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=x.isObject(e);if(i&&x.isHTMLForm(e)&&(e=new FormData(e)),x.isFormData(e))return r?JSON.stringify(qr(e)):e;if(x.isArrayBuffer(e)||x.isBuffer(e)||x.isStream(e)||x.isFile(e)||x.isBlob(e)||x.isReadableStream(e))return e;if(x.isArrayBufferView(e))return e.buffer;if(x.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wl(e,this.formSerializer).toString();if((c=x.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Wt(c?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),Gl(e)):e}],transformResponse:[function(e){const t=this.transitional||zs.transitional,n=t&&t.forcedJSONParsing,r=this.responseType==="json";if(x.isResponse(e)||x.isReadableStream(e))return e;if(e&&x.isString(e)&&(n&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?E.from(c,E.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M.classes.FormData,Blob:M.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],s=>{zs.headers[s]={}});const Ks=zs,Xl=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zl=s=>{const e={};let t,n,r;return s&&s.split(`
`).forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),n=o.substring(r+1).trim(),!(!t||e[t]&&Xl[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},En=Symbol("internals");function qe(s){return s&&String(s).trim().toLowerCase()}function yt(s){return s===!1||s==null?s:x.isArray(s)?s.map(yt):String(s)}function eu(s){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(s);)e[n[1]]=n[2];return e}const tu=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function is(s,e,t,n,r){if(x.isFunction(n))return n.call(this,e,t);if(r&&(e=t),!!x.isString(e)){if(x.isString(n))return e.indexOf(n)!==-1;if(x.isRegExp(n))return n.test(e)}}function su(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function nu(s,e){const t=x.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(s,n+t,{value:function(r,i,o){return this[n].call(this,e,r,i,o)},configurable:!0})})}class Jt{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(c,l,u){const d=qe(l);if(!d)throw new Error("header name must be a non-empty string");const h=x.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||l]=yt(c))}const o=(c,l)=>x.forEach(c,(u,d)=>i(u,d,l));if(x.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(x.isString(e)&&(e=e.trim())&&!tu(e))o(Zl(e),t);else if(x.isObject(e)&&x.isIterable(e)){let c={},l,u;for(const d of e){if(!x.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[u=d[0]]=(l=c[u])?x.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(c,t)}else e!=null&&i(t,e,n);return this}get(e,t){if(e=qe(e),e){const n=x.findKey(this,e);if(n){const r=this[n];if(!t)return r;if(t===!0)return eu(r);if(x.isFunction(t))return t.call(this,r,n);if(x.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qe(e),e){const n=x.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||is(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let r=!1;function i(o){if(o=qe(o),o){const c=x.findKey(n,o);c&&(!t||is(n,n[c],c,t))&&(delete n[c],r=!0)}}return x.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];(!e||is(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return x.forEach(this,(r,i)=>{const o=x.findKey(n,i);if(o){t[o]=yt(r),delete t[i];return}const c=e?su(i):String(i).trim();c!==i&&delete t[i],t[c]=yt(r),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return x.forEach(this,(n,r)=>{n!=null&&n!==!1&&(t[r]=e&&x.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[En]=this[En]={accessors:{}}).accessors,r=this.prototype;function i(o){const c=qe(o);n[c]||(nu(r,o),n[c]=!0)}return x.isArray(e)?e.forEach(i):i(e),this}}Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Jt.prototype,({value:s},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>s,set(n){this[t]=n}}});x.freezeMethods(Jt);const J=Jt;function as(s,e){const t=this||Ks,n=e||t,r=J.from(n.headers);let i=n.data;return x.forEach(s,function(c){i=c.call(t,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Mr(s){return!!(s&&s.__CANCEL__)}function Ie(s,e,t){E.call(this,s??"canceled",E.ERR_CANCELED,e,t),this.name="CanceledError"}x.inherits(Ie,E,{__CANCEL__:!0});function $r(s,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?s(t):e(new E("Request failed with status code "+t.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function ru(s){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return e&&e[1]||""}function iu(s,e){s=s||10;const t=new Array(s),n=new Array(s);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[i];o||(o=u),t[r]=l,n[r]=u;let h=i,m=0;for(;h!==r;)m+=t[h++],h=h%s;if(r=(r+1)%s,r===i&&(i=(i+1)%s),u-o<e)return;const w=d&&u-d;return w?Math.round(m*1e3/w):void 0}}function au(s,e){let t=0,n=1e3/e,r,i;const o=(u,d=Date.now())=>{t=d,r=null,i&&(clearTimeout(i),i=null),s(...u)};return[(...u)=>{const d=Date.now(),h=d-t;h>=n?o(u,d):(r=u,i||(i=setTimeout(()=>{i=null,o(r)},n-h)))},()=>r&&o(r)]}const kt=(s,e,t=3)=>{let n=0;const r=iu(50,250);return au(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,l=o-n,u=r(l),d=o<=c;n=o;const h={loaded:o,total:c,progress:c?o/c:void 0,bytes:l,rate:u||void 0,estimated:u&&c&&d?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};s(h)},t)},Cn=(s,e)=>{const t=s!=null;return[n=>e[0]({lengthComputable:t,total:s,loaded:n}),e[1]]},_n=s=>(...e)=>x.asap(()=>s(...e)),ou=M.hasStandardBrowserEnv?((s,e)=>t=>(t=new URL(t,M.origin),s.protocol===t.protocol&&s.host===t.host&&(e||s.port===t.port)))(new URL(M.origin),M.navigator&&/(msie|trident)/i.test(M.navigator.userAgent)):()=>!0,cu=M.hasStandardBrowserEnv?{write(s,e,t,n,r,i){const o=[s+"="+encodeURIComponent(e)];x.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),x.isString(n)&&o.push("path="+n),x.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(s){const e=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lu(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function uu(s,e){return e?s.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):s}function Qr(s,e,t){let n=!lu(e);return s&&(n||t==!1)?uu(s,e):e}const Rn=s=>s instanceof J?{...s}:s;function je(s,e){e=e||{};const t={};function n(u,d,h,m){return x.isPlainObject(u)&&x.isPlainObject(d)?x.merge.call({caseless:m},u,d):x.isPlainObject(d)?x.merge({},d):x.isArray(d)?d.slice():d}function r(u,d,h,m){if(x.isUndefined(d)){if(!x.isUndefined(u))return n(void 0,u,h,m)}else return n(u,d,h,m)}function i(u,d){if(!x.isUndefined(d))return n(void 0,d)}function o(u,d){if(x.isUndefined(d)){if(!x.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function c(u,d,h){if(h in e)return n(u,d);if(h in s)return n(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,d,h)=>r(Rn(u),Rn(d),h,!0)};return x.forEach(Object.keys({...s,...e}),function(d){const h=l[d]||r,m=h(s[d],e[d],d);x.isUndefined(m)&&h!==c||(t[d]=m)}),t}const Hr=s=>{const e=je({},s);let{data:t,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:o,auth:c}=e;e.headers=o=J.from(o),e.url=Ur(Qr(e.baseURL,e.url,e.allowAbsoluteUrls),s.params,s.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let l;if(x.isFormData(t)){if(M.hasStandardBrowserEnv||M.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(M.hasStandardBrowserEnv&&(n&&x.isFunction(n)&&(n=n(e)),n||n!==!1&&ou(e.url))){const u=r&&i&&cu.read(i);u&&o.set(r,u)}return e},du=typeof XMLHttpRequest<"u",hu=du&&function(s){return new Promise(function(t,n){const r=Hr(s);let i=r.data;const o=J.from(r.headers).normalize();let{responseType:c,onUploadProgress:l,onDownloadProgress:u}=r,d,h,m,w,f;function g(){w&&w(),f&&f(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout;function j(){if(!p)return;const y=J.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:y,config:s,request:p};$r(function(D){t(D),g()},function(D){n(D),g()},C),p=null}"onloadend"in p?p.onloadend=j:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(j)},p.onabort=function(){p&&(n(new E("Request aborted",E.ECONNABORTED,s,p)),p=null)},p.onerror=function(){n(new E("Network Error",E.ERR_NETWORK,s,p)),p=null},p.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const C=r.transitional||Br;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),n(new E(S,C.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,s,p)),p=null},i===void 0&&o.setContentType(null),"setRequestHeader"in p&&x.forEach(o.toJSON(),function(S,C){p.setRequestHeader(C,S)}),x.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),c&&c!=="json"&&(p.responseType=r.responseType),u&&([m,f]=kt(u,!0),p.addEventListener("progress",m)),l&&p.upload&&([h,w]=kt(l),p.upload.addEventListener("progress",h),p.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(d=y=>{p&&(n(!y||y.type?new Ie(null,s,p):y),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const b=ru(r.url);if(b&&M.protocols.indexOf(b)===-1){n(new E("Unsupported protocol "+b+":",E.ERR_BAD_REQUEST,s));return}p.send(i||null)})},fu=(s,e)=>{const{length:t}=s=s?s.filter(Boolean):[];if(e||t){let n=new AbortController,r;const i=function(u){if(!r){r=!0,c();const d=u instanceof Error?u:this.reason;n.abort(d instanceof E?d:new Ie(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,i(new E(`timeout ${e} of ms exceeded`,E.ETIMEDOUT))},e);const c=()=>{s&&(o&&clearTimeout(o),o=null,s.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),s=null)};s.forEach(u=>u.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>x.asap(c),l}},pu=fu,mu=function*(s,e){let t=s.byteLength;if(!e||t<e){yield s;return}let n=0,r;for(;n<t;)r=n+e,yield s.slice(n,r),n=r},yu=async function*(s,e){for await(const t of xu(s))yield*mu(t,e)},xu=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const e=s.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},On=(s,e,t,n)=>{const r=yu(s,e);let i=0,o,c=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await r.next();if(u){c(),l.close();return}let h=d.byteLength;if(t){let m=i+=h;t(m)}l.enqueue(new Uint8Array(d))}catch(u){throw c(u),u}},cancel(l){return c(l),r.return()}},{highWaterMark:2})},Yt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zr=Yt&&typeof ReadableStream=="function",gu=Yt&&(typeof TextEncoder=="function"?(s=>e=>s.encode(e))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),Kr=(s,...e)=>{try{return!!s(...e)}catch{return!1}},vu=zr&&Kr(()=>{let s=!1;const e=new Request(M.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!e}),Tn=64*1024,Rs=zr&&Kr(()=>x.isReadableStream(new Response("").body)),Lt={stream:Rs&&(s=>s.body)};Yt&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Lt[e]&&(Lt[e]=x.isFunction(s[e])?t=>t[e]():(t,n)=>{throw new E(`Response type '${e}' is not supported`,E.ERR_NOT_SUPPORT,n)})})})(new Response);const bu=async s=>{if(s==null)return 0;if(x.isBlob(s))return s.size;if(x.isSpecCompliantForm(s))return(await new Request(M.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(x.isArrayBufferView(s)||x.isArrayBuffer(s))return s.byteLength;if(x.isURLSearchParams(s)&&(s=s+""),x.isString(s))return(await gu(s)).byteLength},wu=async(s,e)=>{const t=x.toFiniteNumber(s.getContentLength());return t??bu(e)},ju=Yt&&(async s=>{let{url:e,method:t,data:n,signal:r,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:l,responseType:u,headers:d,withCredentials:h="same-origin",fetchOptions:m}=Hr(s);u=u?(u+"").toLowerCase():"text";let w=pu([r,i&&i.toAbortSignal()],o),f;const g=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let p;try{if(l&&vu&&t!=="get"&&t!=="head"&&(p=await wu(d,n))!==0){let C=new Request(e,{method:"POST",body:n,duplex:"half"}),_;if(x.isFormData(n)&&(_=C.headers.get("content-type"))&&d.setContentType(_),C.body){const[D,T]=Cn(p,kt(_n(l)));n=On(C.body,Tn,D,T)}}x.isString(h)||(h=h?"include":"omit");const j="credentials"in Request.prototype;f=new Request(e,{...m,signal:w,method:t.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:j?h:void 0});let b=await fetch(f,m);const y=Rs&&(u==="stream"||u==="response");if(Rs&&(c||y&&g)){const C={};["status","statusText","headers"].forEach(R=>{C[R]=b[R]});const _=x.toFiniteNumber(b.headers.get("content-length")),[D,T]=c&&Cn(_,kt(_n(c),!0))||[];b=new Response(On(b.body,Tn,D,()=>{T&&T(),g&&g()}),C)}u=u||"text";let S=await Lt[x.findKey(Lt,u)||"text"](b,s);return!y&&g&&g(),await new Promise((C,_)=>{$r(C,_,{data:S,headers:J.from(b.headers),status:b.status,statusText:b.statusText,config:s,request:f})})}catch(j){throw g&&g(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,s,f),{cause:j.cause||j}):E.from(j,j&&j.code,s,f)}}),Os={http:Dl,xhr:hu,fetch:ju};x.forEach(Os,(s,e)=>{if(s){try{Object.defineProperty(s,"name",{value:e})}catch{}Object.defineProperty(s,"adapterName",{value:e})}});const Pn=s=>`- ${s}`,Nu=s=>x.isFunction(s)||s===null||s===!1,Vr={getAdapter:s=>{s=x.isArray(s)?s:[s];const{length:e}=s;let t,n;const r={};for(let i=0;i<e;i++){t=s[i];let o;if(n=t,!Nu(t)&&(n=Os[(o=String(t)).toLowerCase()],n===void 0))throw new E(`Unknown adapter '${o}'`);if(n)break;r[o||"#"+i]=n}if(!n){const i=Object.entries(r).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Pn).join(`
`):" "+Pn(i[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Os};function os(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ie(null,s)}function An(s){return os(s),s.headers=J.from(s.headers),s.data=as.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Vr.getAdapter(s.adapter||Ks.adapter)(s).then(function(n){return os(s),n.data=as.call(s,s.transformResponse,n),n.headers=J.from(n.headers),n},function(n){return Mr(n)||(os(s),n&&n.response&&(n.response.data=as.call(s,s.transformResponse,n.response),n.response.headers=J.from(n.response.headers))),Promise.reject(n)})}const Wr="1.11.0",Gt={};["object","boolean","number","function","string","symbol"].forEach((s,e)=>{Gt[s]=function(n){return typeof n===s||"a"+(e<1?"n ":" ")+s}});const kn={};Gt.transitional=function(e,t,n){function r(i,o){return"[Axios v"+Wr+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new E(r(o," has been removed"+(t?" in "+t:"")),E.ERR_DEPRECATED);return t&&!kn[o]&&(kn[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,c):!0}};Gt.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Su(s,e,t){if(typeof s!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const n=Object.keys(s);let r=n.length;for(;r-- >0;){const i=n[r],o=e[i];if(o){const c=s[i],l=c===void 0||o(c,i,s);if(l!==!0)throw new E("option "+i+" must be "+l,E.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new E("Unknown option "+i,E.ERR_BAD_OPTION)}}const xt={assertOptions:Su,validators:Gt},Z=xt.validators;class Dt{constructor(e){this.defaults=e||{},this.interceptors={request:new Sn,response:new Sn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=je(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;n!==void 0&&xt.assertOptions(n,{silentJSONParsing:Z.transitional(Z.boolean),forcedJSONParsing:Z.transitional(Z.boolean),clarifyTimeoutError:Z.transitional(Z.boolean)},!1),r!=null&&(x.isFunction(r)?t.paramsSerializer={serialize:r}:xt.assertOptions(r,{encode:Z.function,serialize:Z.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xt.assertOptions(t,{baseUrl:Z.spelling("baseURL"),withXsrfToken:Z.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&x.merge(i.common,i[t.method]);i&&x.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),t.headers=J.concat(o,i);const c=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,c.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let d,h=0,m;if(!l){const f=[An.bind(this),void 0];for(f.unshift(...c),f.push(...u),m=f.length,d=Promise.resolve(t);h<m;)d=d.then(f[h++],f[h++]);return d}m=c.length;let w=t;for(h=0;h<m;){const f=c[h++],g=c[h++];try{w=f(w)}catch(p){g.call(this,p);break}}try{d=An.call(this,w)}catch(f){return Promise.reject(f)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=je(this.defaults,e);const t=Qr(e.baseURL,e.url,e.allowAbsoluteUrls);return Ur(t,e.params,e.paramsSerializer)}}x.forEach(["delete","get","head","options"],function(e){Dt.prototype[e]=function(t,n){return this.request(je(n||{},{method:e,url:t,data:(n||{}).data}))}});x.forEach(["post","put","patch"],function(e){function t(n){return function(i,o,c){return this.request(je(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Dt.prototype[e]=t(),Dt.prototype[e+"Form"]=t(!0)});const gt=Dt;class Vs{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new Ie(i,o,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Vs(function(r){e=r}),cancel:e}}}const Eu=Vs;function Cu(s){return function(t){return s.apply(null,t)}}function _u(s){return x.isObject(s)&&s.isAxiosError===!0}const Ts={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ts).forEach(([s,e])=>{Ts[e]=s});const Ru=Ts;function Jr(s){const e=new gt(s),t=Cr(gt.prototype.request,e);return x.extend(t,gt.prototype,e,{allOwnKeys:!0}),x.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return Jr(je(s,r))},t}const U=Jr(Ks);U.Axios=gt;U.CanceledError=Ie;U.CancelToken=Eu;U.isCancel=Mr;U.VERSION=Wr;U.toFormData=Wt;U.AxiosError=E;U.Cancel=U.CanceledError;U.all=function(e){return Promise.all(e)};U.spread=Cu;U.isAxiosError=_u;U.mergeConfig=je;U.AxiosHeaders=J;U.formToJSON=s=>qr(x.isHTMLForm(s)?new FormData(s):s);U.getAdapter=Vr.getAdapter;U.HttpStatusCode=Ru;U.default=U;const Yr=U,Ou={}.VITE_API_URL||"/api";class Tu{constructor(){this.axiosInstance=Yr.create({baseURL:Ou,timeout:1e4,headers:{"Content-Type":"application/json"}}),this.axiosInstance.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.axiosInstance.interceptors.response.use(e=>e,async e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("tokenExpiry"),window.location.href="/login"),Promise.reject(e)})}async login(e){var t,n;try{return(await this.axiosInstance.post("/auth/login",e)).data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Login failed")}}async logout(e){try{await this.axiosInstance.post("/auth/logout",{token:e})}catch(t){console.error("Logout error:",t)}}async validateToken(e){try{return(await this.axiosInstance.post("/auth/validate",{token:e})).data.valid}catch{return!1}}async refreshToken(e){var t,n;try{return(await this.axiosInstance.post("/auth/refresh",{token:e})).data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Token refresh failed")}}async register(e){var t,n;try{return(await this.axiosInstance.post("/auth/register",e)).data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Registration failed")}}async forgotPassword(e){var t,n;try{return(await this.axiosInstance.post("/auth/forgot-password",{email:e})).data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Password reset failed")}}async resetPassword(e,t){var n,r;try{return(await this.axiosInstance.post("/auth/reset-password",{token:e,password:t})).data}catch(i){throw new Error(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"Password reset failed")}}async updateProfile(e){var t,n;try{return(await this.axiosInstance.put("/auth/profile",e)).data}catch(r){throw new Error(((n=(t=r.response)==null?void 0:t.data)==null?void 0:n.message)||"Profile update failed")}}async changePassword(e,t){var n,r;try{return(await this.axiosInstance.post("/auth/change-password",{current_password:e,new_password:t})).data}catch(i){throw new Error(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"Password change failed")}}async getZerodhaAuthUrl(){var e,t;try{return(await this.axiosInstance.get("/auth/zerodha/url")).data}catch(n){throw new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to get Zerodha auth URL")}}async submitZerodhaToken(e,t){var n,r;try{return(await this.axiosInstance.post("/auth/zerodha/token",{token:e,request_token:t})).data}catch(i){throw new Error(((r=(n=i.response)==null?void 0:n.data)==null?void 0:r.message)||"Zerodha token submission failed")}}async getZerodhaStatus(){var e,t;try{return(await this.axiosInstance.get("/auth/zerodha/status")).data}catch(n){throw new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to get Zerodha status")}}async refreshZerodhaToken(){var e,t;try{return(await this.axiosInstance.post("/auth/zerodha/refresh")).data}catch(n){throw new Error(((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Zerodha token refresh failed")}}}const $e=new Tu,Gr=v.createContext(),Xt=()=>{const s=v.useContext(Gr);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Pu=({children:s})=>{const[e,t]=v.useState(null),[n,r]=v.useState(!0),[i,o]=v.useState(null),[c,l]=v.useState(null);v.useEffect(()=>{(async()=>{try{const g=localStorage.getItem("authToken"),p=localStorage.getItem("userData");g&&p&&(o(g),t(JSON.parse(p)),await $e.validateToken(g)||await d())}catch(g){console.error("Auth initialization error:",g),await d()}finally{r(!1)}})()},[]);const u=async f=>{try{r(!0);const g=await $e.login(f),{user:p,token:j,expires_at:b}=g;return t(p),o(j),l(b),localStorage.setItem("authToken",j),localStorage.setItem("userData",JSON.stringify(p)),localStorage.setItem("tokenExpiry",b),B.success("Login successful!"),g}catch(g){throw B.error(g.message||"Login failed"),g}finally{r(!1)}},d=async()=>{try{i&&await $e.logout(i)}catch(f){console.error("Logout error:",f)}finally{t(null),o(null),l(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("tokenExpiry"),B.success("Logged out successfully")}},w={user:e,authToken:i,tokenExpiry:c,loading:n,login:u,logout:d,refreshToken:async()=>{try{const f=await $e.refreshToken(i),{token:g,expires_at:p}=f;return o(g),l(p),localStorage.setItem("authToken",g),localStorage.setItem("tokenExpiry",p),g}catch(f){throw console.error("Token refresh failed:",f),await d(),f}},updateUserProfile:f=>{const g={...e,...f};t(g),localStorage.setItem("userData",JSON.stringify(g))}};return a.jsx(Gr.Provider,{value:w,children:s})},Xr=v.createContext(),Zt=()=>{const s=v.useContext(Xr);if(!s)throw new Error("useWebSocket must be used within a WebSocketProvider");return s},Au=({children:s})=>{const{authToken:e,user:t}=Xt(),[n,r]=v.useState(null),[i,o]=v.useState(!1),[c,l]=v.useState({}),[u,d]=v.useState([]),[h,m]=v.useState([]),[w,f]=v.useState("disconnected"),g=v.useRef(0),p=5;v.useEffect(()=>(e&&t?j():y(),()=>{y()}),[e,t]);const j=()=>{try{const T={}.VITE_WS_URL||"ws://localhost:8000",R=pt(T,{auth:{token:e,userId:t==null?void 0:t.id},transports:["websocket","polling"],timeout:2e4,reconnection:!0,reconnectionAttempts:p,reconnectionDelay:1e3,reconnectionDelayMax:5e3});b(R),r(R),f("connecting")}catch(T){console.error("Socket initialization error:",T),f("error")}},b=T=>{T.on("connect",()=>{console.log("WebSocket connected"),o(!0),f("connected"),g.current=0,T.emit("subscribe",{channels:["market_data","live_indices","trading_alerts","user_notifications"]})}),T.on("disconnect",R=>{console.log("WebSocket disconnected:",R),o(!1),f("disconnected")}),T.on("connect_error",R=>{console.error("WebSocket connection error:",R),f("error"),g.current++,g.current>=p&&(B.error("Failed to connect to real-time data. Please refresh the page."),f("failed"))}),T.on("market_data",R=>{l(L=>({...L,[R.symbol]:{...R,timestamp:new Date}}))}),T.on("live_indices",R=>{d(R)}),T.on("trading_alert",R=>{m(L=>[R,...L.slice(0,99)]),R.priority==="high"&&B.success(`Trading Alert: ${R.message}`,{duration:6e3})}),T.on("user_notification",R=>{B(R.message,{icon:R.type==="success"?"":R.type==="warning"?"":R.type==="error"?"":""})}),T.on("token_expired",()=>{B.error("Your session has expired. Please login again.")})},y=()=>{n&&(n.disconnect(),r(null),o(!1),f("disconnected"))},D={socket:n,isConnected:i,connectionStatus:w,marketData:c,liveIndices:u,tradingAlerts:h,subscribeToSymbol:T=>{n&&i&&n.emit("subscribe_symbol",{symbol:T})},unsubscribeFromSymbol:T=>{n&&i&&n.emit("unsubscribe_symbol",{symbol:T})},sendMessage:(T,R)=>{n&&i?n.emit(T,R):B.error("No real-time connection available")}};return a.jsx(Xr.Provider,{value:D,children:s})},ku=({onMenuClick:s})=>{const{user:e,logout:t}=Xt(),{isConnected:n,connectionStatus:r,tradingAlerts:i}=Zt(),[o,c]=v.useState(!1),[l,u]=v.useState(!1),d=i.filter(f=>!f.read).length,h=()=>n&&r==="connected"?a.jsx(Dn,{className:"w-4 h-4 text-success-600"}):a.jsx(Fn,{className:"w-4 h-4 text-danger-600"}),m=()=>{switch(r){case"connected":return"Connected";case"connecting":return"Connecting...";case"disconnected":return"Disconnected";case"error":return"Connection Error";case"failed":return"Connection Failed";default:return"Unknown"}},w=async()=>{await t(),u(!1)};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:a.jsx(ui,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Trading Dashboard"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome back, ",(e==null?void 0:e.name)||"Trader"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-1.5 bg-gray-50 rounded-lg",children:[h(),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:m()})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!o),className:"relative p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx(Ws,{className:"w-5 h-5 text-gray-600"}),d>0&&a.jsx(N.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-danger-500 text-white text-xs rounded-full flex items-center justify-center",children:d>9?"9+":d})]}),a.jsx(Ee,{children:o&&a.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Trading Alerts"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[d," new alerts"]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:i.length>0?i.slice(0,5).map((f,g)=>a.jsx("div",{className:`p-3 border-b border-gray-100 last:border-b-0 ${f.read?"":"bg-primary-50"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${f.priority==="high"?"bg-danger-500":f.priority==="medium"?"bg-warning-500":"bg-success-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:f.title||"Trading Alert"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.timestamp).toLocaleTimeString()})]})]})},g)):a.jsxs("div",{className:"p-4 text-center text-gray-500",children:[a.jsx(Ws,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No alerts yet"})]})}),i.length>5&&a.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:a.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View all alerts"})})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>u(!l),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:a.jsx(Js,{className:"w-4 h-4 text-white"})}),a.jsx("span",{className:"hidden md:block text-sm font-medium text-gray-700",children:(e==null?void 0:e.name)||"User"})]}),a.jsx(Ee,{children:l&&a.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[a.jsxs("div",{className:"p-3 border-b border-gray-200",children:[a.jsx("p",{className:"font-medium text-gray-900",children:(e==null?void 0:e.name)||"User"}),a.jsx("p",{className:"text-sm text-gray-500",children:(e==null?void 0:e.email)||"user@example.com"})]}),a.jsxs("div",{className:"p-1",children:[a.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Js,{className:"w-4 h-4"}),a.jsx("span",{children:"Profile"})]}),a.jsxs("button",{className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[a.jsx(Ft,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh Token"})]}),a.jsx("hr",{className:"my-1 border-gray-200"}),a.jsxs("button",{onClick:w,className:"w-full flex items-center space-x-2 px-3 py-2 text-left text-sm text-danger-600 hover:bg-danger-50 rounded-lg transition-colors",children:[a.jsx(di,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign Out"})]})]})]})})]})]})]})})},Lu=({isOpen:s,onClose:e})=>{const t=Se(),n=[{name:"Dashboard",href:"/dashboard",icon:fi,description:"Overview & Analytics"},{name:"Live Indices",href:"/live-indices",icon:ye,description:"Real-time Market Data"},{name:"Analytics",href:"/analytics",icon:ze,description:"Performance & Insights"},{name:"Trades",href:"/trades",icon:vt,description:"Trade History & Details"},{name:"Users",href:"/users",icon:_e,description:"User Management"},{name:"Auth Tokens",href:"/auth-tokens",icon:cs,description:"Daily Token Management"},{name:"Multi-User API",href:"/multi-user-api",icon:it,description:"API Submission Portal"},{name:"Settings",href:"/settings",icon:In,description:"System Configuration"}],r={open:{width:"16rem",transition:{duration:.3,ease:"easeInOut"}},closed:{width:"5rem",transition:{duration:.3,ease:"easeInOut"}}},i={open:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},closed:{opacity:0,x:-20,transition:{duration:.2,ease:"easeIn"}}};return a.jsxs(a.Fragment,{children:[a.jsx(N.aside,{variants:r,animate:s?"open":"closed",className:"fixed left-0 top-0 z-50 h-full bg-white border-r border-gray-200 shadow-lg lg:block hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:a.jsx(ie,{className:"w-6 h-6 text-white"})}),a.jsx(Ee,{children:s&&a.jsxs(N.div,{variants:i,initial:"closed",animate:"open",exit:"closed",className:"flex flex-col",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Trade123"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Trading Platform"})]})})]})}),a.jsx("nav",{className:"flex-1 p-4 space-y-2",children:n.map(o=>{const c=o.icon,l=t.pathname===o.href;return a.jsxs(pn,{to:o.href,className:({isActive:u})=>`flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 group ${u?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-700 hover:bg-gray-50 hover:text-primary-600"}`,children:[a.jsx(c,{className:`w-5 h-5 ${l?"text-primary-600":"text-gray-500 group-hover:text-primary-500"}`}),a.jsx(Ee,{children:s&&a.jsxs(N.div,{variants:i,initial:"closed",animate:"open",exit:"closed",className:"flex flex-col min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium truncate",children:o.name}),a.jsx("span",{className:"text-xs text-gray-500 truncate",children:o.description})]})})]},o.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsx(Ee,{children:s&&a.jsxs(N.div,{variants:i,initial:"closed",animate:"open",exit:"closed",className:"text-xs text-gray-500 text-center",children:[a.jsx("p",{children:" 2025 Trade123"}),a.jsx("p",{children:"Advanced Trading Platform"})]})})})]})}),a.jsx(Ee,{children:s&&a.jsx(N.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"fixed left-0 top-0 z-50 h-full w-64 bg-white border-r border-gray-200 shadow-lg lg:hidden",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary-500 to-primary-700 rounded-lg flex items-center justify-center",children:a.jsx(ie,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Trade123"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Trading Platform"})]})]}),a.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(hi,{className:"w-5 h-5 text-gray-500"})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2",children:n.map(o=>{const c=o.icon,l=t.pathname===o.href;return a.jsxs(pn,{to:o.href,onClick:e,className:({isActive:u})=>`flex items-center space-x-3 px-3 py-2.5 rounded-lg transition-all duration-200 ${u?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-700 hover:bg-gray-50 hover:text-primary-600"}`,children:[a.jsx(c,{className:`w-5 h-5 ${l?"text-primary-600":"text-gray-500"}`}),a.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium truncate",children:o.name}),a.jsx("span",{className:"text-xs text-gray-500 truncate",children:o.description})]})]},o.name)})})]})})})]})},Du=()=>{const[s,e]=v.useState(!1),{connectionStatus:t}=Zt();return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t!=="connected"&&a.jsxs("div",{className:`w-full px-4 py-2 text-center text-sm font-medium ${t==="connecting"?"bg-warning-100 text-warning-800":t==="error"?"bg-danger-100 text-danger-800":"bg-gray-100 text-gray-800"}`,children:[t==="connecting"&&" Connecting to real-time data...",t==="error"&&" Real-time connection failed. Retrying...",t==="disconnected"&&" Real-time data disconnected",t==="failed"&&" Unable to connect to real-time data"]}),a.jsx(Lu,{isOpen:s,onClose:()=>e(!1)}),a.jsxs("div",{className:`transition-all duration-300 ${s?"lg:ml-64":"lg:ml-20"}`,children:[a.jsx(ku,{onMenuClick:()=>e(!s)}),a.jsx("main",{className:"p-6",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsx(qo,{})})})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>e(!1)})]})},re=({size:s="medium",color:e="primary",text:t=null,className:n=""})=>{const r={small:"w-4 h-4",medium:"w-8 h-8",large:"w-12 h-12",xlarge:"w-16 h-16"},i={primary:"text-primary-600",white:"text-white",gray:"text-gray-600",success:"text-success-600",warning:"text-warning-600",danger:"text-danger-600"};return a.jsx("div",{className:`flex items-center justify-center ${n}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(N.div,{className:`${r[s]} ${i[e]} relative`,animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"60 40",fill:"none",className:"opacity-25"}),a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"15 85",fill:"none",transform:"rotate(-90 12 12)"})]})}),t&&a.jsx(N.p,{className:`text-sm font-medium ${i[e]} opacity-75`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:t})]})})},Fu=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive trading performance insights"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ze,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Chart"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"Performance Chart Component"})})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(pi,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Portfolio Distribution"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"Portfolio Pie Chart"})})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(ye,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trend Analysis"})]}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"Trend Analysis Chart"})})]})]})]}),Iu={}.VITE_API_URL||"https://trade123-l3zp7.ondigitalocean.app";class Uu{constructor(){this.client=Yr.create({baseURL:Iu,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.client.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),this.client.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){t._retry=!0;try{const r=localStorage.getItem("refresh_token");if(r){const i=await this.client.post("/auth/refresh",{refresh_token:r}),{access_token:o}=i.data;return localStorage.setItem("access_token",o),t.headers.Authorization=`Bearer ${o}`,this.client(t)}}catch(r){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(r)}}return Promise.reject(e)})}async getDashboardData(){try{return(await this.client.get("/api/dashboard")).data}catch{return{metrics:{portfolio_value:125e4,portfolio_change:2.5,todays_pnl:15e3,pnl_percentage:1.2,active_positions:12,positions_change:3,connected_users:5},recent_trades:[{id:1,symbol:"RELIANCE",type:"BUY",quantity:100,price:2845.5,timestamp:new Date(Date.now()-5*60*1e3).toISOString(),status:"COMPLETED",pnl:1250},{id:2,symbol:"TCS",type:"SELL",quantity:50,price:3567.2,timestamp:new Date(Date.now()-15*60*1e3).toISOString(),status:"COMPLETED",pnl:-450}],alerts:[{title:"Market Alert",message:"NIFTY approaching resistance level at 22,200",priority:"medium",timestamp:new Date().toISOString()}],performance_data:[{date:"2025-01-01",value:1e5,pnl:0},{date:"2025-01-02",value:102500,pnl:2500},{date:"2025-01-03",value:101800,pnl:1800},{date:"2025-01-04",value:105200,pnl:5200},{date:"2025-01-05",value:103900,pnl:3900},{date:"2025-01-06",value:108500,pnl:8500},{date:"2025-01-07",value:107200,pnl:7200}]}}}async login(e){return(await this.client.post("/auth/login",e)).data}async logout(){return(await this.client.post("/auth/logout")).data}async refreshToken(e){return(await this.client.post("/auth/refresh",{refresh_token:e})).data}async validateToken(){return(await this.client.get("/auth/validate")).data}async getCurrentUser(){return(await this.client.get("/auth/me")).data}async getUsers(){return(await this.client.get("/v1/users/")).data}async getUser(e){return(await this.client.get(`/v1/users/${e}`)).data}async createUser(e){return(await this.client.post("/v1/users/",e)).data}async updateUser(e,t){return(await this.client.put(`/v1/users/${e}`,t)).data}async deleteUser(e){return(await this.client.delete(`/v1/users/${e}`)).data}async submitDailyToken(e){return(await this.client.post("/v1/auth-tokens/daily",e)).data}async getTokenStatus(){return(await this.client.get("/v1/auth-tokens/status")).data}async getAllUsersTokenStatus(){return(await this.client.get("/v1/auth-tokens/all-users")).data}async getTrades(){return(await this.client.get("/api/trades")).data}async createTrade(e){return(await this.client.post("/api/trades",e)).data}async getTrade(e){return(await this.client.get(`/api/trades/${e}`)).data}async getMarketData(){return(await this.client.get("/api/market/data")).data}async getIndices(){return(await this.client.get("/api/market/indices")).data}async submitMultiUserRequest(e){return(await this.client.post("/api/multi-user/submit",e)).data}async getMultiUserRequests(){return(await this.client.get("/api/multi-user/requests")).data}async getShareKhanData(){return(await this.client.get("/api/sharekhan/data")).data}async submitShareKhanOrder(e){return(await this.client.post("/api/sharekhan/order",e)).data}async getSystemHealth(){return(await this.client.get("/health")).data}async getSystemConfig(){return(await this.client.get("/api/system/config")).data}async getAnalytics(e={}){return(await this.client.get("/api/analytics",{params:e})).data}async getPerformanceMetrics(){return(await this.client.get("/api/analytics/performance")).data}}const me=new Uu,Bu=()=>{const[s,e]=v.useState(!1),[t,n]=v.useState({token:"",expiresAt:"",userId:"",brokerType:"zerodha"}),r=Bt(),{data:i,isLoading:o}=Oe("token-status",me.getTokenStatus,{refetchInterval:3e4}),{data:c,isLoading:l}=Oe("all-user-tokens",me.getAllUserTokens,{refetchInterval:6e4}),u=ms(me.submitDailyToken,{onSuccess:()=>{B.success("Token submitted successfully!"),r.invalidateQueries("token-status"),r.invalidateQueries("all-user-tokens"),e(!1),n({token:"",expiresAt:"",userId:"",brokerType:"zerodha"})},onError:b=>{B.error(b.message)}}),d=ms($e.refreshZerodhaToken,{onSuccess:()=>{B.success("Zerodha token refreshed successfully!"),r.invalidateQueries("token-status")},onError:b=>{B.error(b.message)}}),h=b=>{if(b.preventDefault(),!t.token.trim()){B.error("Please enter a token");return}u.mutate(t)},m=b=>{switch(b){case"active":return"text-success-600 bg-success-100";case"expired":return"text-danger-600 bg-danger-100";case"expiring":return"text-warning-600 bg-warning-100";default:return"text-gray-600 bg-gray-100"}},w=b=>{switch(b){case"active":return a.jsx(bt,{className:"w-4 h-4"});case"expired":return a.jsx(Re,{className:"w-4 h-4"});case"expiring":return a.jsx(wt,{className:"w-4 h-4"});default:return a.jsx(cs,{className:"w-4 h-4"})}};if(o||l)return a.jsx("div",{className:"min-h-96 flex items-center justify-center",children:a.jsx(re,{size:"large",text:"Loading token information..."})});const f=c||[],g=f.filter(b=>b.status==="active").length,p=f.filter(b=>b.status==="expiring").length,j=f.filter(b=>b.status==="expired").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Auth Token Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage daily authentication tokens for all users"})]}),a.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[a.jsxs("button",{onClick:()=>d.mutate(),disabled:d.isLoading,className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Ft,{className:`w-4 h-4 ${d.isLoading?"animate-spin":""}`}),a.jsx("span",{children:"Refresh Zerodha"})]}),a.jsxs("button",{onClick:()=>e(!0),className:"btn-primary flex items-center space-x-2",children:[a.jsx(Ps,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Token"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.length})]}),a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(_e,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Tokens"}),a.jsx("p",{className:"text-2xl font-bold text-success-600",children:g})]}),a.jsx("div",{className:"w-12 h-12 bg-success-100 text-success-600 rounded-lg flex items-center justify-center",children:a.jsx(bt,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expiring Soon"}),a.jsx("p",{className:"text-2xl font-bold text-warning-600",children:p})]}),a.jsx("div",{className:"w-12 h-12 bg-warning-100 text-warning-600 rounded-lg flex items-center justify-center",children:a.jsx(wt,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired"}),a.jsx("p",{className:"text-2xl font-bold text-danger-600",children:j})]}),a.jsx("div",{className:"w-12 h-12 bg-danger-100 text-danger-600 rounded-lg flex items-center justify-center",children:a.jsx(Re,{className:"w-6 h-6"})})]})})]}),i&&a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Token Status"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${m(i.zerodha_status)}`,children:w(i.zerodha_status)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Zerodha Token"}),a.jsx("p",{className:"text-sm text-gray-600",children:i.zerodha_expires_at?`Expires: ${new Date(i.zerodha_expires_at).toLocaleString()}`:"No expiry information"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(i.zerodha_status)}`,children:i.zerodha_status})})]})})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All User Tokens"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(As,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Broker"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires At"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map((b,y)=>{var S;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-medium text-sm",children:((S=b.username)==null?void 0:S.charAt(0))||"U"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.username||"Unknown User"}),a.jsx("div",{className:"text-sm text-gray-500",children:b.email||"No email"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-900 capitalize",children:b.broker_type||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m(b.status)}`,children:[w(b.status),a.jsx("span",{className:"ml-1 capitalize",children:b.status})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:b.expires_at?new Date(b.expires_at).toLocaleString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.updated_at?new Date(b.updated_at).toLocaleString():"N/A"})]},y)})})]})}),f.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(cs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tokens found"}),a.jsx("p",{className:"text-gray-600",children:"Start by adding a daily token for users"})]})]}),s&&a.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(N.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submit Daily Token"}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Broker Type"}),a.jsxs("select",{value:t.brokerType,onChange:b=>n(y=>({...y,brokerType:b.target.value})),className:"input-field",children:[a.jsx("option",{value:"zerodha",children:"Zerodha"}),a.jsx("option",{value:"sharekhan",children:"Sharekhan"}),a.jsx("option",{value:"truedata",children:"TrueData"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Authentication Token"}),a.jsx("textarea",{value:t.token,onChange:b=>n(y=>({...y,token:b.target.value})),placeholder:"Paste your daily authentication token here...",className:"input-field h-24 resize-none",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User ID (Optional)"}),a.jsx("input",{type:"text",value:t.userId,onChange:b=>n(y=>({...y,userId:b.target.value})),placeholder:"Leave empty for current user",className:"input-field"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn-secondary",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u.isLoading,className:"btn-primary flex items-center space-x-2",children:[u.isLoading?a.jsx(re,{size:"small",color:"white"}):a.jsx(mi,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Token"})]})]})]})]})})]})},qu=({data:s})=>{const t=s||[{date:"2025-01-01",value:1e5,pnl:0},{date:"2025-01-02",value:102500,pnl:2500},{date:"2025-01-03",value:101800,pnl:1800},{date:"2025-01-04",value:105200,pnl:5200},{date:"2025-01-05",value:103900,pnl:3900},{date:"2025-01-06",value:108500,pnl:8500},{date:"2025-01-07",value:107200,pnl:7200}],n=t[t.length-1],r=t[t.length-2],i=(n==null?void 0:n.value)-(r==null?void 0:r.value)||0,o=r!=null&&r.value?i/r.value*100:0,c=i>=0,l=({active:u,payload:d,label:h})=>u&&d&&d.length?a.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:new Date(h).toLocaleDateString()}),a.jsxs("p",{className:"text-sm text-primary-600",children:["Value: ",d[0].value.toLocaleString()]}),d[1]&&a.jsxs("p",{className:`text-sm ${d[1].value>=0?"text-success-600":"text-danger-600"}`,children:["P&L: ",d[1].value.toLocaleString()]})]}):null;return a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Portfolio Performance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"7-day performance overview"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",n==null?void 0:n.value.toLocaleString()]}),a.jsxs("div",{className:`flex items-center space-x-1 ${c?"text-success-600":"text-danger-600"}`,children:[c?a.jsx(ye,{className:"w-4 h-4"}):a.jsx(Je,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:[c?"+":"","",i.toLocaleString()," (",o.toFixed(2),"%)"]})]})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary-100 flex items-center justify-center",children:a.jsx(ie,{className:"w-6 h-6 text-primary-600"})})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(ni,{width:"100%",height:"100%",children:a.jsxs(ri,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"valueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),a.jsx(ii,{strokeDasharray:"3 3",stroke:"#f1f5f9"}),a.jsx(ai,{dataKey:"date",stroke:"#64748b",fontSize:12,tickFormatter:u=>new Date(u).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),a.jsx(oi,{stroke:"#64748b",fontSize:12,tickFormatter:u=>`${(u/1e3).toFixed(0)}K`}),a.jsx(ci,{content:a.jsx(l,{})}),a.jsx(li,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:2,fill:"url(#valueGradient)"})]})})}),a.jsxs("div",{className:"mt-6 grid grid-cols-3 divide-x divide-gray-200",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total P&L"}),a.jsxs("p",{className:`text-lg font-semibold ${(n==null?void 0:n.pnl)>=0?"text-success-600":"text-danger-600"}`,children:["",n==null?void 0:n.pnl.toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Best Day"}),a.jsxs("p",{className:"text-lg font-semibold text-success-600",children:["",Math.max(...t.map(u=>u.pnl)).toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Worst Day"}),a.jsxs("p",{className:"text-lg font-semibold text-danger-600",children:["",Math.min(...t.map(u=>u.pnl)).toLocaleString()]})]})]})]})},Mu=({indices:s})=>{const e=[{name:"NIFTY 50",symbol:"NIFTY",value:22145.5,change:125.3,changePercent:.57,lastUpdate:new Date().toISOString()},{name:"SENSEX",symbol:"SENSEX",value:73042.2,change:-88.45,changePercent:-.12,lastUpdate:new Date().toISOString()},{name:"BANK NIFTY",symbol:"BANKNIFTY",value:45890.75,change:234.6,changePercent:.51,lastUpdate:new Date().toISOString()},{name:"NIFTY IT",symbol:"NIFTYIT",value:32156.4,change:-156.8,changePercent:-.49,lastUpdate:new Date().toISOString()},{name:"NIFTY AUTO",symbol:"NIFTYAUTO",value:18765.3,change:89.2,changePercent:.48,lastUpdate:new Date().toISOString()},{name:"NIFTY PHARMA",symbol:"NIFTYPHARMA",value:14532.85,change:-45.6,changePercent:-.31,lastUpdate:new Date().toISOString()}],t=s||e,n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.5}}};return a.jsxs(N.div,{variants:n,initial:"hidden",animate:"visible",className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Live Market Indices"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Real-time market data"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Live"}),a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:a.jsx(ze,{className:"w-5 h-5 text-primary-600"})})]})]}),a.jsx("div",{className:"space-y-4",children:t.map((i,o)=>{const c=i.change>=0;return a.jsxs(N.div,{variants:r,className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 hover:border-primary-300 hover:shadow-sm transition-all duration-200",whileHover:{scale:1.01},children:[a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:i.name}),a.jsx("p",{className:"text-sm text-gray-500",children:i.symbol})]})})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.value.toLocaleString()}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(i.lastUpdate).toLocaleTimeString()})]}),a.jsxs("div",{className:`flex items-center space-x-1 min-w-[100px] justify-end ${c?"text-success-600":"text-danger-600"}`,children:[c?a.jsx(ye,{className:"w-4 h-4"}):a.jsx(Je,{className:"w-4 h-4"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",children:[c?"+":"",i.change.toFixed(2)]}),a.jsxs("p",{className:"text-xs",children:["(",c?"+":"",i.changePercent.toFixed(2),"%)"]})]})]})]})]},i.symbol)})}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:["Last updated: ",new Date().toLocaleTimeString()]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ie,{className:"w-4 h-4"}),a.jsx("span",{children:"Live feed active"})]})]})})]})},$u=({trades:s})=>{const e=[{id:1,symbol:"RELIANCE",type:"BUY",quantity:100,price:2845.5,timestamp:new Date(Date.now()-3e5).toISOString(),status:"COMPLETED",pnl:1250},{id:2,symbol:"TCS",type:"SELL",quantity:50,price:3567.2,timestamp:new Date(Date.now()-9e5).toISOString(),status:"COMPLETED",pnl:-450},{id:3,symbol:"HDFCBANK",type:"BUY",quantity:75,price:1678.9,timestamp:new Date(Date.now()-18e5).toISOString(),status:"PENDING",pnl:0},{id:4,symbol:"INFY",type:"SELL",quantity:200,price:1456.75,timestamp:new Date(Date.now()-27e5).toISOString(),status:"COMPLETED",pnl:2350},{id:5,symbol:"ICICIBANK",type:"BUY",quantity:150,price:987.25,timestamp:new Date(Date.now()-36e5).toISOString(),status:"FAILED",pnl:0}],t=s||e,n=c=>{switch(c){case"COMPLETED":return"text-success-600 bg-success-50";case"PENDING":return"text-warning-600 bg-warning-50";case"FAILED":return"text-danger-600 bg-danger-50";default:return"text-gray-600 bg-gray-50"}},r=c=>{const l=new Date,u=new Date(c),d=Math.floor((l-u)/(1e3*60));if(d<1)return"Just now";if(d<60)return`${d}m ago`;const h=Math.floor(d/60);return h<24?`${h}h ago`:`${Math.floor(h/24)}d ago`},i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return a.jsxs(N.div,{variants:i,initial:"hidden",animate:"visible",className:"card h-fit",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Recent Trades"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Latest trading activity"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:a.jsx(ie,{className:"w-5 h-5 text-primary-600"})})})]}),a.jsx("div",{className:"space-y-3",children:t.slice(0,5).map(c=>{const l=c.type==="BUY",u=c.pnl>0;return a.jsxs(N.div,{variants:o,className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-primary-300 hover:shadow-sm transition-all duration-200",whileHover:{scale:1.02},children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${l?"bg-success-100 text-success-600":"bg-danger-100 text-danger-600"}`,children:l?a.jsx(yi,{className:"w-5 h-5"}):a.jsx(xi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:c.symbol}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${n(c.status)}`,children:c.status})]}),a.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:[c.type," ",c.quantity," @ ",c.price]}),a.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[a.jsx(wt,{className:"w-3 h-3"}),a.jsx("span",{className:"text-xs",children:r(c.timestamp)})]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[c.status==="COMPLETED"&&c.pnl!==0&&a.jsxs("div",{className:`flex items-center space-x-1 ${u?"text-success-600":"text-danger-600"}`,children:[u?a.jsx(ye,{className:"w-4 h-4"}):a.jsx(Je,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-semibold",children:["",Math.abs(c.pnl).toLocaleString()]})]}),a.jsx("button",{className:"p-1 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(gi,{className:"w-4 h-4 text-gray-500"})})]})]},c.id)})}),t.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ie,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600",children:"No recent trades"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Your recent trading activity will appear here"})]}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:a.jsx("button",{className:"w-full text-center text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors",children:"View All Trades"})})]})},Ln=()=>{const{isConnected:s,liveIndices:e,marketData:t}=Zt(),{data:n,isLoading:r,error:i}=Oe("dashboard",me.getDashboardData,{refetchInterval:3e4,staleTime:1e4});if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(re,{size:"large",text:"Loading dashboard..."})});if(i)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Re,{className:"w-16 h-16 text-danger-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Dashboard Error"}),a.jsx("p",{className:"text-gray-600",children:i.message})]})});const o=(n==null?void 0:n.metrics)||{},c=(n==null?void 0:n.recent_trades)||[],l=(n==null?void 0:n.alerts)||[],u=[{title:"Total Portfolio Value",value:`${(o.portfolio_value||0).toLocaleString()}`,change:o.portfolio_change||0,icon:vt,color:"primary"},{title:"Today's P&L",value:`${(o.todays_pnl||0).toLocaleString()}`,change:o.pnl_percentage||0,icon:ye,color:o.todays_pnl>=0?"success":"danger"},{title:"Active Positions",value:o.active_positions||0,change:o.positions_change||0,icon:ie,color:"warning"},{title:"Connected Users",value:o.connected_users||0,change:0,icon:_e,color:"primary"}],d={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};return a.jsxs(N.div,{variants:d,initial:"hidden",animate:"visible",className:"space-y-6",children:[a.jsxs(N.div,{variants:h,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trading Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time market overview and portfolio performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-lg ${s?"bg-success-50 text-success-700":"bg-danger-50 text-danger-700"}`,children:[s?a.jsx(Dn,{className:"w-4 h-4"}):a.jsx(Fn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:s?"Live Data":"Disconnected"})]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleTimeString()]})]})]}),a.jsx(N.div,{variants:h,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((m,w)=>{const f=m.icon,g=m.change>=0;return a.jsx(N.div,{variants:h,className:"metric-card group cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:m.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:m.value}),m.change!==0&&a.jsxs("div",{className:`flex items-center space-x-1 ${g?"text-success-600":"text-danger-600"}`,children:[g?a.jsx(ye,{className:"w-4 h-4"}):a.jsx(Je,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(m.change),"%"]})]})]}),a.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${m.color==="primary"?"bg-primary-100 text-primary-600":m.color==="success"?"bg-success-100 text-success-600":m.color==="danger"?"bg-danger-100 text-danger-600":"bg-warning-100 text-warning-600"} group-hover:scale-110 transition-transform duration-200`,children:a.jsx(f,{className:"w-6 h-6"})})]})},m.title)})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(N.div,{variants:h,className:"lg:col-span-2",children:a.jsx(Mu,{indices:e})}),a.jsx(N.div,{variants:h,children:a.jsx($u,{trades:c})})]}),a.jsx(N.div,{variants:h,children:a.jsx(qu,{data:n==null?void 0:n.performance_data})}),l.length>0&&a.jsxs(N.div,{variants:h,className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[l.length," active"]})]}),a.jsx("div",{className:"space-y-3",children:l.slice(0,3).map((m,w)=>a.jsx("div",{className:`p-3 rounded-lg border-l-4 ${m.priority==="high"?"bg-danger-50 border-danger-400":m.priority==="medium"?"bg-warning-50 border-warning-400":"bg-primary-50 border-primary-400"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Re,{className:`w-5 h-5 mt-0.5 ${m.priority==="high"?"text-danger-600":m.priority==="medium"?"text-warning-600":"text-primary-600"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(m.timestamp).toLocaleString()})]})]})},w))})]})]})},Qu=()=>{const{isConnected:s,liveIndices:e,marketData:t,subscribeToSymbol:n,unsubscribeFromSymbol:r}=Zt(),[i,o]=v.useState(""),[c,l]=v.useState("all"),[u,d]=v.useState(new Set),{data:h,isLoading:m,refetch:w}=Oe("live-indices",me.getLiveIndices,{refetchInterval:s?5e3:3e4,staleTime:2e3}),g=(e.length>0?e:h||[]).filter(y=>{var _;const S=y.symbol.toLowerCase().includes(i.toLowerCase())||((_=y.name)==null?void 0:_.toLowerCase().includes(i.toLowerCase())),C=c==="all"||c==="gainers"&&y.change>=0||c==="losers"&&y.change<0||c==="high-volume"&&y.volume>1e6;return S&&C}),p=y=>{u.has(y)?(r(y),d(S=>{const C=new Set(S);return C.delete(y),C})):(n(y),d(S=>new Set(S).add(y)))},j=y=>y>0?"text-success-600":y<0?"text-danger-600":"text-gray-600",b=y=>y>0?a.jsx(ye,{className:"w-4 h-4"}):y<0?a.jsx(Je,{className:"w-4 h-4"}):a.jsx(ie,{className:"w-4 h-4"});return m?a.jsx("div",{className:"min-h-96 flex items-center justify-center",children:a.jsx(re,{size:"large",text:"Loading live indices..."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Market Indices"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time market data and index performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[a.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1.5 rounded-lg ${s?"bg-success-50 text-success-700":"bg-gray-50 text-gray-600"}`,children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-success-500 animate-pulse":"bg-gray-400"}`}),a.jsx("span",{className:"text-sm font-medium",children:s?"Live":"Delayed"})]}),a.jsx("button",{onClick:()=>w(),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(Ft,{className:"w-5 h-5 text-gray-600"})})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",value:i,onChange:y=>o(y.target.value),placeholder:"Search indices by symbol or name...",className:"input-field pl-10"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Bn,{className:"w-5 h-5 text-gray-400"}),a.jsxs("select",{value:c,onChange:y=>l(y.target.value),className:"input-field min-w-32",children:[a.jsx("option",{value:"all",children:"All Indices"}),a.jsx("option",{value:"gainers",children:"Gainers"}),a.jsx("option",{value:"losers",children:"Losers"}),a.jsx("option",{value:"high-volume",children:"High Volume"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((y,S)=>{var C,_,D,T,R,L,te,G,X,V,se,H;return a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.05},className:"card hover:shadow-md transition-shadow duration-200",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.symbol}),a.jsx("button",{onClick:()=>p(y.symbol),className:`p-1 rounded transition-colors ${u.has(y.symbol)?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400 hover:text-gray-600"}`,children:a.jsx(ze,{className:"w-4 h-4"})})]}),y.name&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.name})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${s&&t[y.symbol]?"bg-success-100 text-success-700":"bg-gray-100 text-gray-600"}`,children:s&&t[y.symbol]?"LIVE":"DELAYED"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",(((C=t[y.symbol])==null?void 0:C.price)||y.price||0).toLocaleString()]}),a.jsxs("div",{className:`flex items-center space-x-1 ${j(((_=t[y.symbol])==null?void 0:_.change)||y.change||0)}`,children:[b(((D=t[y.symbol])==null?void 0:D.change)||y.change||0),a.jsx("span",{className:"font-medium",children:Math.abs(((T=t[y.symbol])==null?void 0:T.change)||y.change||0).toFixed(2)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Change %"}),a.jsxs("span",{className:`font-medium ${j(((R=t[y.symbol])==null?void 0:R.change_percent)||y.change_percent||0)}`,children:[(((L=t[y.symbol])==null?void 0:L.change_percent)||y.change_percent||0)>=0?"+":"",(((te=t[y.symbol])==null?void 0:te.change_percent)||y.change_percent||0).toFixed(2),"%"]})]}),(((G=t[y.symbol])==null?void 0:G.volume)||y.volume)&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Volume"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:(((X=t[y.symbol])==null?void 0:X.volume)||y.volume||0).toLocaleString()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-100",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"High"}),a.jsxs("p",{className:"font-medium text-success-600",children:["",(((V=t[y.symbol])==null?void 0:V.high)||y.high||0).toLocaleString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Low"}),a.jsxs("p",{className:"font-medium text-danger-600",children:["",(((se=t[y.symbol])==null?void 0:se.low)||y.low||0).toLocaleString()]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t border-gray-100",children:["Last updated: ",(H=t[y.symbol])!=null&&H.timestamp?new Date(t[y.symbol].timestamp).toLocaleTimeString():"N/A"]})]})]},y.symbol)})}),g.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ze,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No indices found"}),a.jsx("p",{className:"text-gray-600",children:i?"Try adjusting your search terms":"No indices available at the moment"})]})]})},Hu=()=>{const{login:s,loading:e}=Xt(),[t,n]=v.useState({email:"",password:""}),[r,i]=v.useState(!1),[o,c]=v.useState({}),l=()=>{const h={};return t.email?/\S+@\S+\.\S+/.test(t.email)||(h.email="Email is invalid"):h.email="Email is required",t.password?t.password.length<6&&(h.password="Password must be at least 6 characters"):h.password="Password is required",c(h),Object.keys(h).length===0},u=async h=>{if(h.preventDefault(),!!l())try{await s(t),B.success("Welcome to Trade123!")}catch(m){console.error("Login error:",m)}},d=h=>{const{name:m,value:w}=h.target;n(f=>({...f,[m]:w})),o[m]&&c(f=>({...f,[m]:""}))};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 via-white to-primary-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(N.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-700 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx(ie,{className:"w-8 h-8 text-white"})}),a.jsx(N.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-3xl font-bold text-gray-900",children:"Welcome to Trade123"}),a.jsx(N.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-sm text-gray-600",children:"Sign in to access your advanced trading platform"})]}),a.jsxs(N.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:t.email,onChange:d,className:`input-field pl-10 ${o.email?"border-danger-300 focus:ring-danger-500":""}`,placeholder:"Enter your email"})]}),o.email&&a.jsx(N.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-1 text-sm text-danger-600",children:o.email})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(bi,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",value:t.password,onChange:d,className:`input-field pl-10 pr-10 ${o.password?"border-danger-300 focus:ring-danger-500":""}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!r),children:r?a.jsx(wi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(ji,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),o.password&&a.jsx(N.p,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-1 text-sm text-danger-600",children:o.password})]})]}),a.jsx("div",{children:a.jsx(N.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:e,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:e?a.jsx(re,{size:"small",color:"white"}):a.jsx("span",{className:"flex items-center",children:"Sign in to Trade123"})})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"Forgot your password?"}),a.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:text-gray-500",children:"Need help?"})]})]}),a.jsxs(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Demo Credentials"}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Email:"})," demo@trade123.com"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Password:"})," demo123"]})]}),a.jsx("button",{type:"button",onClick:()=>{n({email:"demo@trade123.com",password:"demo123"})},className:"mt-2 text-xs text-primary-600 hover:text-primary-700 font-medium",children:"Use demo credentials"})]}),a.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-center",children:a.jsx("p",{className:"text-xs text-gray-500",children:" 2025 Trade123. Advanced Trading Platform."})})]})})},zu=()=>{var g;const[s,e]=v.useState(!1),[t,n]=v.useState({endpoint:"",method:"GET",payload:"",headers:"{}",users:[],description:""}),r=Bt(),{data:i,isLoading:o}=Oe("multi-user-api-status",me.getMultiUserAPIStatus,{refetchInterval:1e4}),{data:c}=Oe("users",()=>me.getUsers({active:!0})),l=ms(me.submitMultiUserAPI,{onSuccess:()=>{B.success("API request submitted successfully!"),r.invalidateQueries("multi-user-api-status"),e(!1),u()},onError:p=>{B.error(p.message)}}),u=()=>{n({endpoint:"",method:"GET",payload:"",headers:"{}",users:[],description:""})},d=p=>{if(p.preventDefault(),!t.endpoint.trim()){B.error("Please enter an API endpoint");return}if(t.users.length===0){B.error("Please select at least one user");return}try{const j=JSON.parse(t.headers),b=t.payload?JSON.parse(t.payload):null;l.mutate({...t,headers:j,payload:b})}catch{B.error("Invalid JSON in headers or payload")}},h=p=>{switch(p){case"completed":return"text-success-600 bg-success-100";case"failed":return"text-danger-600 bg-danger-100";case"pending":return"text-warning-600 bg-warning-100";case"processing":return"text-primary-600 bg-primary-100";default:return"text-gray-600 bg-gray-100"}},m=p=>{switch(p){case"completed":return a.jsx(bt,{className:"w-4 h-4"});case"failed":return a.jsx(Re,{className:"w-4 h-4"});case"pending":return a.jsx(wt,{className:"w-4 h-4"});case"processing":return a.jsx(re,{size:"small"});default:return a.jsx(it,{className:"w-4 h-4"})}};if(o)return a.jsx("div",{className:"min-h-96 flex items-center justify-center",children:a.jsx(re,{size:"large",text:"Loading API status..."})});const w=(i==null?void 0:i.recent_requests)||[],f=(i==null?void 0:i.statistics)||{};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Multi-User API Portal"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit API requests on behalf of multiple users"})]}),a.jsxs("button",{onClick:()=>e(!0),className:"btn-primary flex items-center space-x-2 mt-4 sm:mt-0",children:[a.jsx(Ps,{className:"w-4 h-4"}),a.jsx("span",{children:"New API Request"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_requests||0})]}),a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(it,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successful"}),a.jsx("p",{className:"text-2xl font-bold text-success-600",children:f.successful||0})]}),a.jsx("div",{className:"w-12 h-12 bg-success-100 text-success-600 rounded-lg flex items-center justify-center",children:a.jsx(bt,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),a.jsx("p",{className:"text-2xl font-bold text-danger-600",children:f.failed||0})]}),a.jsx("div",{className:"w-12 h-12 bg-danger-100 text-danger-600 rounded-lg flex items-center justify-center",children:a.jsx(Re,{className:"w-6 h-6"})})]})}),a.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"metric-card",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-primary-600",children:f.active_users||0})]}),a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center",children:a.jsx(_e,{className:"w-6 h-6"})})]})})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent API Requests"}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(As,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Users"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((p,j)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-xs",children:p.endpoint}),p.description&&a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:p.description})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.method==="GET"?"bg-primary-100 text-primary-800":p.method==="POST"?"bg-success-100 text-success-800":p.method==="PUT"?"bg-warning-100 text-warning-800":"bg-danger-100 text-danger-800"}`,children:p.method})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[p.user_count||0," users"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${h(p.status)}`,children:[m(p.status),a.jsx("span",{className:"ml-1 capitalize",children:p.status})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.created_at?new Date(p.created_at).toLocaleString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},j))})]})}),w.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(it,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No API requests yet"}),a.jsx("p",{className:"text-gray-600",children:"Start by submitting your first multi-user API request"})]})]}),s&&a.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(N.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Submit Multi-User API Request"}),a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Endpoint"}),a.jsx("input",{type:"text",value:t.endpoint,onChange:p=>n(j=>({...j,endpoint:p.target.value})),placeholder:"/api/v1/trades",className:"input-field",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"HTTP Method"}),a.jsxs("select",{value:t.method,onChange:p=>n(j=>({...j,method:p.target.value})),className:"input-field",children:[a.jsx("option",{value:"GET",children:"GET"}),a.jsx("option",{value:"POST",children:"POST"}),a.jsx("option",{value:"PUT",children:"PUT"}),a.jsx("option",{value:"DELETE",children:"DELETE"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("input",{type:"text",value:t.description,onChange:p=>n(j=>({...j,description:p.target.value})),placeholder:"Brief description of this API request",className:"input-field"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Users"}),a.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-3 space-y-2",children:(g=c==null?void 0:c.data)==null?void 0:g.map(p=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:t.users.includes(p.id),onChange:j=>{j.target.checked?n(b=>({...b,users:[...b.users,p.id]})):n(b=>({...b,users:b.users.filter(y=>y!==p.id)}))},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),a.jsxs("span",{className:"text-sm text-gray-900",children:[p.name," (",p.email,")"]})]},p.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Headers (JSON)"}),a.jsx("textarea",{value:t.headers,onChange:p=>n(j=>({...j,headers:p.target.value})),placeholder:'{"Content-Type": "application/json"}',className:"input-field h-20 font-mono text-sm"})]}),(t.method==="POST"||t.method==="PUT")&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Payload (JSON)"}),a.jsx("textarea",{value:t.payload,onChange:p=>n(j=>({...j,payload:p.target.value})),placeholder:'{"key": "value"}',className:"input-field h-24 font-mono text-sm"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>e(!1),className:"btn-secondary",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:l.isLoading,className:"btn-primary flex items-center space-x-2",children:[l.isLoading?a.jsx(re,{size:"small",color:"white"}):a.jsx(Ni,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Request"})]})]})]})]})})]})},Ku=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configure trading platform preferences and parameters"})]}),a.jsxs("button",{className:"btn-primary flex items-center space-x-2 mt-4 sm:mt-0",children:[a.jsx(Si,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Changes"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(In,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trading Parameters"})]}),a.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"Trading Settings Form"})})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Ft,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Configuration"})]}),a.jsx("div",{className:"h-48 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"System Config Panel"})})]})]})]}),Vu=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trade History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View and analyze all trading activity"})]}),a.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[a.jsxs("button",{className:"btn-secondary flex items-center space-x-2",children:[a.jsx(Bn,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]}),a.jsxs("button",{className:"btn-primary flex items-center space-x-2",children:[a.jsx(As,{className:"w-4 h-4"}),a.jsx("span",{children:"Export"})]})]})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(vt,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Trades"})]}),a.jsx("div",{className:"h-96 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(vt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Trade History Table"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"View detailed trade information, P&L, and analytics"})]})})]})]}),Wu=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage trading platform users and permissions"})]}),a.jsxs("button",{className:"btn-primary flex items-center space-x-2 mt-4 sm:mt-0",children:[a.jsx(Ps,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx(_e,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Directory"})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"relative",children:[a.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",className:"input-field pl-10"})]})}),a.jsx("div",{className:"h-64 flex items-center justify-center bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_e,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"User Management Interface"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Add, edit, and manage trading platform users"})]})})]})]});function Ju(){const{user:s,loading:e}=Xt();return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(re,{size:"large"})}):a.jsx("div",{className:"App",children:a.jsxs($o,{children:[a.jsx(z,{path:"/login",element:s?a.jsx(hn,{to:"/"}):a.jsx(Hu,{})}),s?a.jsxs(z,{path:"/",element:a.jsx(Du,{}),children:[a.jsx(z,{index:!0,element:a.jsx(Ln,{})}),a.jsx(z,{path:"dashboard",element:a.jsx(Ln,{})}),a.jsx(z,{path:"live-indices",element:a.jsx(Qu,{})}),a.jsx(z,{path:"analytics",element:a.jsx(Fu,{})}),a.jsx(z,{path:"users",element:a.jsx(Wu,{})}),a.jsx(z,{path:"trades",element:a.jsx(Vu,{})}),a.jsx(z,{path:"settings",element:a.jsx(Ku,{})}),a.jsx(z,{path:"auth-tokens",element:a.jsx(Bu,{})}),a.jsx(z,{path:"multi-user-api",element:a.jsx(zu,{})})]}):a.jsx(z,{path:"*",element:a.jsx(hn,{to:"/login"})})]})})}const Yu=new Ba({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});ls.createRoot(document.getElementById("root")).render(a.jsx(F.StrictMode,{children:a.jsx(Yo,{children:a.jsx(za,{client:Yu,children:a.jsx(Pu,{children:a.jsxs(Au,{children:[a.jsx(Ju,{}),a.jsx(ba,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})}));
//# sourceMappingURL=index-7a32b586.js.map
